!function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(n)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,n,l){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function r(e,t,n,l){if(e){const s=a(e,t,n,l);return e[0](s)}}function a(e,n,l,s){return e[1]&&s?t(l.ctx.slice(),e[1](s(n))):l.ctx}function u(e,t,n,l,s,o,i){const c=function(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}(t,l,s,o);if(c){const s=a(t,n,l,i);e.p(s,c)}}function f(e){return null==e?"":e}function d(e,t,n=t){return e.set(n),t}function p(t){return t&&o(t.destroy)?t.destroy:e}function h(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function y(){return $(" ")}function w(){return $("")}function x(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Q(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function C(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function S(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function O(e,t,n){e.classList[n?"add":"remove"](t)}let z;function j(e){z=e}function L(){if(!z)throw new Error("Function called outside component initialization");return z}function N(e){L().$$.before_update.push(e)}function F(e){L().$$.on_mount.push(e)}const P=[],B=[],I=[],A=[],D=Promise.resolve();let q=!1;function H(){q||(q=!0,D.then(X))}function Y(e){I.push(e)}let J=!1;const V=new Set;function X(){if(!J){J=!0;do{for(let e=0;e<P.length;e+=1){const t=P[e];j(t),R(t.$$)}for(j(null),P.length=0;B.length;)B.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];V.has(t)||(V.add(t),t())}I.length=0}while(P.length);for(;A.length;)A.pop()();q=!1,J=!1,V.clear()}}function R(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}const W=new Set;let U;function K(){U={r:0,c:[],p:U}}function Z(){U.r||s(U.c),U=U.p}function G(e,t){e&&e.i&&(W.delete(e),e.i(t))}function ee(e,t,n,l){if(e&&e.o){if(W.has(e))return;W.add(e),U.c.push((()=>{W.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function te(e,t){const n=t.token={};function l(e,l,s,o){if(t.token!==n)return;t.resolved=o;let i=t.ctx;void 0!==s&&(i=i.slice(),i[s]=o);const c=e&&(t.current=e)(i);let r=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(K(),ee(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Z())})):t.block.d(1),c.c(),G(c,1),c.m(t.mount(),t.anchor),r=!0),t.block=c,t.blocks&&(t.blocks[l]=c),r&&X()}if((s=e)&&"object"==typeof s&&"function"==typeof s.then){const n=L();if(e.then((e=>{j(n),l(t.then,1,t.value,e),j(null)}),(e=>{if(j(n),l(t.catch,2,t.error,e),j(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}var s}function ne(e,t){const n={},l={},s={$$scope:1};let o=e.length;for(;o--;){const i=e[o],c=t[o];if(c){for(const e in i)e in c||(l[e]=1);for(const e in c)s[e]||(n[e]=c[e],s[e]=1);e[o]=c}else for(const e in i)s[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}function le(e){return"object"==typeof e&&null!==e?e:{}}function se(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function oe(e){e&&e.c()}function ie(e,t,l,i){const{fragment:c,on_mount:r,on_destroy:a,after_update:u}=e.$$;c&&c.m(t,l),i||Y((()=>{const t=r.map(n).filter(o);a?a.push(...t):s(t),e.$$.on_mount=[]})),u.forEach(Y)}function ce(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function re(t,n,o,i,c,r,a=[-1]){const u=z;j(t);const f=t.$$={fragment:null,ctx:null,props:r,update:e,not_equal:c,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:l(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...l)=>{const s=l.length?l[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),d&&function(e,t){-1===e.$$.dirty[0]&&(P.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(g)}else f.fragment&&f.fragment.c();n.intro&&G(t.$$.fragment),ie(t,n.target,n.anchor,n.customElement),X()}j(u)}class ae{$destroy(){ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ue(e){let t,n,l,s,i;const c=e[2].default,a=r(c,e,e[1],null);return{c(){t=b("div"),a&&a.c(),t.hidden=!0},m(o,c){m(o,t,c),a&&a.m(t,null),l=!0,s||(i=p(n=fe.call(null,t,e[0])),s=!0)},p(e,[t]){a&&a.p&&2&t&&u(a,c,e,e[1],t,null,null),n&&o(n.update)&&1&t&&n.update.call(null,e[0])},i(e){l||(G(a,e),l=!0)},o(e){ee(a,e),l=!1},d(e){e&&g(t),a&&a.d(e),s=!1,i()}}}function fe(e,t="body"){let n;async function l(l){if("string"==typeof(t=l)){if(n=document.querySelector(t),null===n&&(await(H(),D),n=document.querySelector(t)),null===n)throw new Error(`No element found matching css selector: "${t}"`)}else{if(!(t instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===t?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n=t}n.appendChild(e),e.hidden=!1}return l(t),{update:l,destroy:function(){e.parentNode&&e.parentNode.removeChild(e)}}}function de(e,t,n){let{$$slots:l={},$$scope:s}=t,{target:o="body"}=t;return e.$$set=e=>{"target"in e&&n(0,o=e.target),"$$scope"in e&&n(1,s=e.$$scope)},[o,s,l]}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function pe(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})})),t}function he(e){var t={exports:{}};return e(t,t.exports),t.exports}var me=pe(Object.freeze({__proto__:null,default:class extends ae{constructor(e){super(),re(this,e,de,ue,i,{target:0})}},portal:fe}));function ge(e){let t,n;return{c(){t=b("i"),M(t,"class",n=f("icon "+e[0])+" Q2nr7df")},m(e,n){m(e,t,n)},p(e,l){1&l&&n!==(n=f("icon "+e[0])+" Q2nr7df")&&M(t,"class",n)},d(e){e&&g(t)}}}function ve(e){let t,n,l,s,o,i;const c=e[2].default,a=r(c,e,e[1],null);let f=e[0]&&ge(e);return{c(){t=b("main"),n=b("section"),a&&a.c(),l=y(),f&&f.c(),M(n,"class","Q2nr7df"),M(t,"class","Q2nr7df")},m(e,c){m(e,t,c),h(t,n),a&&a.m(n,null),h(n,l),f&&f.m(n,null),s=!0,o||(i=p(me.portal.call(null,t,"body")),o=!0)},p(e,[t]){a&&a.p&&2&t&&u(a,c,e,e[1],t,null,null),e[0]?f?f.p(e,t):(f=ge(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i(e){s||(G(a,e),s=!0)},o(e){ee(a,e),s=!1},d(e){e&&g(t),a&&a.d(e),f&&f.d(),o=!1,i()}}}function be(e,t,n){let{$$slots:l={},$$scope:s}=t,{icon:o="fad fa-spinner fa-pulse"}=t;return e.$$set=e=>{"icon"in e&&n(0,o=e.icon),"$$scope"in e&&n(1,s=e.$$scope)},[o,s,l]}class $e extends ae{constructor(e){super(),re(this,e,be,ve,i,{icon:0})}}const ye=[];function we(t,n=e){let l;const s=[];function o(e){if(i(t,e)&&(t=e,l)){const e=!ye.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),ye.push(n,t)}if(e){for(let e=0;e<ye.length;e+=2)ye[e][0](ye[e+1]);ye.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,c=e){const r=[i,c];return s.push(r),1===s.length&&(l=n(o)||e),i(t),()=>{const e=s.indexOf(r);-1!==e&&s.splice(e,1),0===s.length&&(l(),l=null)}}}}let xe=we([]);const ke=new class{info(e,t="",n="fad fa-info-circle",l=3e3){this.add("info",t,e,n,l)}success(e,t="",n="fas fa-check",l=3e3){this.add("success",t,e,n,l)}error(e,t="",n="fad fa-exclamation-circle",l=3e3){this.add("error",t,e,n,l)}add(e,t="",n,l="fad fa-user",s=3e3){let o={type:e,info:t,label:n,icon:l,hide:!1};xe.update((e=>[o,...e])),setTimeout((()=>{o.hide=!0,xe.update((e=>e))}),s),setTimeout((()=>{xe.update((e=>{let t=e.indexOf(o);return e.splice(t,1),e}))}),s+300)}},Qe=we(null),Me=we({menu:[],lists:[],defaultAvatar:"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='iso-8859-1'%3F%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 456.001 456.001' style='enable-background:new 0 0 456.001 456.001;' xml:space='preserve'%3E%3Cg%3E%3Cpath style='fill:%23E69F5F;' d='M379.893,168c0-41.334-40.667-168-104-168c-34,0-48,8-48,8s-14-8-48-8 c-63.334,0-104,126.667-104,168c0,36,20,51.333,24,64c5.405,17.117,0,40,0,40c34,27,96,32,96,32h64c0,0,62-5,96-32 c0,0-5.405-22.883,0-40C359.893,219.333,379.893,204,379.893,168z'/%3E%3Cpath style='fill:%23E09156;' d='M75.892,168c0,36,20,51.333,24,64c5.405,17.117,0,40,0,40c34,27,96,32,96,32l17.709-11.068 c-0.326-38.588-1.708-84.932-1.708-84.932l-96-72c0,0,174-56.667,112-128c0,0-14-8-48-8C116.559,0,75.892,126.667,75.892,168z'/%3E%3Cpath style='fill:%23F6B47B;' d='M387.863,414.878l-0.726-6.536c-0.287-2.586-2.616-4.449-5.201-4.161l-0.407,0.045l-7.027-56.214 c-1.529-12.228-9.943-22.492-21.634-26.389l-39.047-13.016c-5.375-1.792-11.273-0.644-15.409,2.9l-11.579-3.86 c-6.534-2.178-10.94-8.292-10.94-15.179v-25.802l34.461-14.359c17.887-7.453,29.539-24.93,29.539-44.308v-8 c13.255,0,24-10.745,24-24s-10.745-24-24-24v-16c0-22.092-17.909-40-40-40h-144c-22.092,0-40,17.909-40,40v16 c-13.255,0-24,10.745-24,24s10.745,24,24,24v8c0,19.378,11.651,36.855,29.538,44.308l34.462,14.359v25.801 c0,6.887-4.407,13.001-10.94,15.179l-11.425,3.808c-4.133-3.503-9.999-4.631-15.348-2.848l-39.047,13.016 c-11.691,3.897-20.105,14.161-21.634,26.389l-7.027,56.214l-0.407-0.045c-2.586-0.287-4.914,1.576-5.202,4.161l-0.726,6.536 c-0.287,2.585,1.576,4.914,4.161,5.201l11.702,1.3V440c0,8.837,7.164,16,16,16h40h176h40c8.837,0,16-7.163,16-16v-18.621 l11.702-1.3C386.287,419.792,388.15,417.463,387.863,414.878z'/%3E%3Cpath style='fill:%23E2A071;' d='M179.893,266.667v25.801c0,5.693-3.017,10.852-7.752,13.701 c66.923,11.563,103.75-39.499,103.752-39.503l0,0L179.893,266.667z'/%3E%3Cpath style='fill:%23FDC88E;' d='M339.893,152v-16c0-22.092-17.909-40-40-40h-144c-22.092,0-40,17.909-40,40v16 c-13.255,0-24,10.745-24,24s10.745,24,24,24v8c0,19.378,11.651,36.855,29.538,44.308l51.691,21.538 c9.75,4.063,20.208,6.154,30.77,6.154l0,0c10.562,0,21.019-2.091,30.769-6.154l51.694-21.539 c17.887-7.453,29.539-24.93,29.539-44.308v-8c13.255,0,24-10.745,24-24C363.893,162.745,353.147,152,339.893,152z'/%3E%3Cpath style='fill:%23623F33;' d='M171.893,184L171.893,184c-4.4,0-8-3.6-8-8v-8c0-4.4,3.6-8,8-8l0,0c4.4,0,8,3.6,8,8v8 C179.893,180.4,176.293,184,171.893,184z'/%3E%3Cpath style='fill:%23623F33;' d='M283.892,184L283.892,184c-4.4,0-8-3.6-8-8v-8c0-4.4,3.6-8,8-8l0,0c4.4,0,8,3.6,8,8v8 C291.892,180.4,288.292,184,283.892,184z'/%3E%3Cpath style='fill:%23E2A071;' d='M227.893,240.219c-14.223,0-27.527-3.5-36.5-9.605c-3.652-2.484-4.601-7.461-2.113-11.113 c2.48-3.648,7.461-4.598,11.113-2.113c6.289,4.277,16.57,6.832,27.5,6.832s21.211-2.555,27.5-6.832 c3.66-2.492,8.629-1.539,11.113,2.113c2.488,3.652,1.539,8.629-2.113,11.113C255.421,236.719,242.116,240.219,227.893,240.219z'/%3E%3Cpath style='fill:%23F6B47B;' d='M247.893,90c-52.333,21.833-132,46-132,46v16c-13.255,0-24,10.745-24,24s10.745,24,24,24v8 c0,19.378,11.651,36.855,29.538,44.308l51.69,21.538c2.53,1.054,5.112,1.962,7.727,2.749 c-22.756-16.647-37.933-31.207-46.857-40.761c-6.514-6.974-10.099-16.186-10.099-25.729v-60.194c100.5-33.66,112-53.91,112-53.91 L247.893,90z'/%3E%3Cpath style='fill:%23FF4F4F;' d='M316,456.001v-40h67l-8.499-67.989c-1.529-12.228-9.943-22.492-21.634-26.389l-39.047-13.016 c-6.8-2.267-14.45,0.154-18.291,6.206C281.349,337.157,256.424,352,228.001,352s-53.349-14.844-67.53-37.188 c-3.841-6.052-11.491-8.473-18.291-6.206l-39.047,13.016c-11.691,3.897-20.105,14.161-21.634,26.389l-7.609,60.872L140.001,416v40 h176V456.001z'/%3E%3Cpath style='fill:%23F23F44;' d='M140.001,422.04v-18.106c0-7.697-2.774-15.135-7.813-20.953l-44.019-50.813 c-3.552,4.497-5.93,9.93-6.669,15.843l-8.356,66.847C85.867,415.622,119.711,419.587,140.001,422.04z'/%3E%3Cpath style='fill:%23FFB94C;' d='M140.001,411.507l-65.936-7.326c-2.586-0.287-4.914,1.576-5.202,4.161l-0.726,6.536 c-0.287,2.585,1.576,4.914,4.161,5.201l67.703,7.523V411.507z'/%3E%3Cpath style='fill:%23F23F44;' d='M316,422.04v-18.106c0-7.697,2.774-15.135,7.813-20.953l44.019-50.813 c3.552,4.497,5.93,9.93,6.669,15.843l8.356,66.847C370.134,415.622,336.289,419.587,316,422.04z'/%3E%3Cpath style='fill:%23FFB94C;' d='M316,411.507l65.936-7.326c2.586-0.287,4.914,1.576,5.202,4.161l0.726,6.536 c0.287,2.585-1.576,4.914-4.161,5.201L316,427.602V411.507z'/%3E%3Cpath style='fill:%23FFB94C;' d='M227.999,408c-26.51,0-48,21.49-48,48h96C275.999,429.491,254.51,408,227.999,408z'/%3E%3Cpath style='fill:%23E69F5F;' d='M110.892,112.671V136c16.714,0,87.054-12,133.714-40c0,0,40.393,52.667,100.286,56v-40.668 c0-20.564-17.516-37.182-38.997-36.998l-156.697,1.339C127.988,75.854,110.892,92.365,110.892,112.671z'/%3E%3Cpath style='fill:%23E09156;' d='M149.2,75.673c-21.211,0.181-38.307,16.693-38.307,36.998V136c1.54,0,3.538-0.103,5.928-0.31 c8.631-2.913,75.731-26.331,107.655-60.661L149.2,75.673z'/%3E%3C/g%3E%3C/svg%3E%0A"}),Ee=we(null);class _e extends Error{constructor(e){super(),this.response=e}}class Ce{constructor(e){this.id=null,this.name=null,this.avatar=null,this.id=e.id,this.name=e.name,this.avatar=e.avatar}static logout(){throw new _e(null)}static isAuthenticated(){return fetch("/api/auth").then((e=>e.json())).then((e=>{if(!1!==e){let t=new Ce(e);ke.success("Authenticated",t.name),Qe.update((()=>t))}else Qe.update((()=>null))}))}static login(e,t){return fetch("/api/auth/login",{method:"post",body:JSON.stringify({login:e,password:t})}).then((e=>{if(401===e.status)throw new _e(null);if(200!==e.status)throw new Error(e.status.toString());return e.json()})).then((e=>this.isAuthenticated())).catch((e=>{if(!(e instanceof _e))throw e;ke.error("Login error","wrogin login or password")}))}}function Se(t){return{c:e,m:e,i:e,o:e,d:e}}function Te(t){return{c:e,m:e,i:e,o:e,d:e}}function Oe(e){let t,n;return t=new $e({props:{$$slots:{default:[ze]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function ze(e){let t;return{c(){t=$("Loading")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function je(e){let t,n,l,o,i,c,r,a,u,f,d,p,v,Q,E,C={ctx:e,current:null,token:null,hasCatch:!1,pending:Oe,then:Te,catch:Se,blocks:[,,,]};return te(p=e[2],C),{c(){t=b("main"),n=b("form"),l=b("input"),o=y(),i=b("input"),c=y(),r=b("button"),r.textContent="Login",a=$("\n\t\tpowered by "),u=b("b"),u.textContent="Atomino & Magic",f=y(),d=w(),C.block.c(),M(l,"type","text"),M(l,"placeholder","login"),M(l,"name","login"),M(l,"class","Qhg0mfa"),M(i,"type","password"),M(i,"placeholder","password"),M(i,"name","password"),M(i,"class","Qhg0mfa"),M(r,"type","submit"),M(r,"class","Qhg0mfa"),M(n,"class","Qhg0mfa"),M(t,"class","Qhg0mfa")},m(s,p){m(s,t,p),h(t,n),h(n,l),_(l,e[0]),h(n,o),h(n,i),_(i,e[1]),h(n,c),h(n,r),h(n,a),h(n,u),m(s,f,p),m(s,d,p),C.block.m(s,C.anchor=p),C.mount=()=>d.parentNode,C.anchor=d,v=!0,Q||(E=[x(l,"input",e[4]),x(i,"input",e[5]),x(n,"submit",k(e[3]))],Q=!0)},p(t,[n]){e=t,1&n&&l.value!==e[0]&&_(l,e[0]),2&n&&i.value!==e[1]&&_(i,e[1]),C.ctx=e,4&n&&p!==(p=e[2])&&te(p,C)},i(e){v||(G(C.block),v=!0)},o(e){for(let e=0;e<3;e+=1){ee(C.blocks[e])}v=!1},d(e){e&&g(t),e&&g(f),e&&g(d),C.block.d(e),C.token=null,C=null,Q=!1,s(E)}}}function Le(e,t,n){let l="elvis@elvis.hu",s="galaga",o=null;return[l,s,o,function(){n(2,o=Ce.login(l,s))},function(){l=this.value,n(0,l)},function(){s=this.value,n(1,s)}]}class Ne extends ae{constructor(e){super(),re(this,e,Le,je,i,{})}}var Fe;!function(e){e[e.list=0]="list",e[e.form=1]="form",e[e.custom=2]="custom",e[e.menu=3]="menu"}(Fe||(Fe={}));class Pe{constructor(e,t){this.label=e,this.icon=t,this.action=null,this.type=null,this.submenu=[]}static List(e,t,n){const l=new Pe(e,t);return l.action=()=>Ee.update((()=>n)),l.type=Pe.type.list,l}static Page(e,t,n,l=null){const s=new Pe(e,t);return s.action=()=>n.open(l),s.type=Pe.type.form,s}static Menu(e,t,n){const l=new Pe(e,t);return l.submenu=n,l.type=Pe.type.menu,l}static Custom(e,t,n){const l=new Pe(e,t);return l.action=n,l.type=Pe.type.custom,l}activate(){return"function"==typeof this.action&&this.action(),this}}function Be(e,t,n){const l=e.slice();return l[9]=t[n],l[11]=n,l}function Ie(e){let t;return{c(){t=b("i"),M(t,"class","marker fa-fw fal fa-chevron-left Q3shszd"),O(t,"open",e[5][e[11]])},m(e,n){m(e,t,n)},p(e,n){32&n&&O(t,"open",e[5][e[11]])},d(e){e&&g(t)}}}function Ae(e){let t,n;return t=new Ye({props:{menu:e[9].submenu,wide:e[3],isOpen:!0===e[5][e[11]],isSubmenu:!0}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.menu=e[9].submenu),8&n&&(l.wide=e[3]),32&n&&(l.isOpen=!0===e[5][e[11]]),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function De(e){let t,n,l,s,o,i,c,r,a,u,d,p,v=e[9].label+"",k=e[9].type===Pe.type.menu&&Ie(e);function Q(){return e[7](e[9],e[11])}let _=e[9].type===Pe.type.menu&&Ae(e);return{c(){t=b("button"),n=b("i"),s=y(),o=b("span"),i=$(v),c=y(),k&&k.c(),r=y(),_&&_.c(),a=w(),M(n,"class",l=f("icon "+e[9].icon)+" Q3shszd"),M(o,"class","Q3shszd"),M(t,"class","closed Q3shszd"),O(t,"has-submenu",e[9].type===Pe.type.menu)},m(e,l){m(e,t,l),h(t,n),h(t,s),h(t,o),h(o,i),h(t,c),k&&k.m(t,null),m(e,r,l),_&&_.m(e,l),m(e,a,l),u=!0,d||(p=x(t,"click",Q),d=!0)},p(s,o){e=s,(!u||4&o&&l!==(l=f("icon "+e[9].icon)+" Q3shszd"))&&M(n,"class",l),(!u||4&o)&&v!==(v=e[9].label+"")&&E(i,v),e[9].type===Pe.type.menu?k?k.p(e,o):(k=Ie(e),k.c(),k.m(t,null)):k&&(k.d(1),k=null),4&o&&O(t,"has-submenu",e[9].type===Pe.type.menu),e[9].type===Pe.type.menu?_?(_.p(e,o),4&o&&G(_,1)):(_=Ae(e),_.c(),G(_,1),_.m(a.parentNode,a)):_&&(K(),ee(_,1,1,(()=>{_=null})),Z())},i(e){u||(G(_),u=!0)},o(e){ee(_),u=!1},d(e){e&&g(t),k&&k.d(),e&&g(r),_&&_.d(e),e&&g(a),d=!1,p()}}}function qe(e){let t,n,l=e[2],s=[];for(let t=0;t<l.length;t+=1)s[t]=De(Be(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){t=b("nav");for(let e=0;e<s.length;e+=1)s[e].c();M(t,"class","Q3shszd"),O(t,"wide",e[3]),O(t,"open",e[0]),O(t,"isSubmenu",e[1])},m(l,o){m(l,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);e[8](t),n=!0},p(e,[n]){if(108&n){let i;for(l=e[2],i=0;i<l.length;i+=1){const o=Be(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=De(o),s[i].c(),G(s[i],1),s[i].m(t,null))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}8&n&&O(t,"wide",e[3]),1&n&&O(t,"open",e[0]),2&n&&O(t,"isSubmenu",e[1])},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(n){n&&g(t),v(s,n),e[8](null)}}}function He(e,t,n){let l,{isOpen:s=!0}=t,{isSubmenu:o=!1}=t,{menu:i}=t,{wide:c}=t,r={};function a(e,t){e.type===Pe.type.menu?n(5,r[t]=!r[t],r):e.action()}F((()=>{n(4,l.style.height=l.scrollHeight+"px",l)}));return e.$$set=e=>{"isOpen"in e&&n(0,s=e.isOpen),"isSubmenu"in e&&n(1,o=e.isSubmenu),"menu"in e&&n(2,i=e.menu),"wide"in e&&n(3,c=e.wide)},[s,o,i,c,l,r,a,(e,t)=>a(e,t),function(e){B[e?"unshift":"push"]((()=>{l=e,n(4,l)}))}]}Pe.type=Fe;class Ye extends ae{constructor(e){super(),re(this,e,He,qe,i,{isOpen:0,isSubmenu:1,menu:2,wide:3})}}function Je(e){let t,n,l,o,i,c,r,a,u,f,d,p,v,w,k,Q=e[1].name+"";return p=new Ye({props:{menu:e[2].menu,wide:e[0]}}),{c(){t=b("main"),n=b("div"),l=b("img"),c=y(),r=b("span"),a=$(Q),u=y(),f=b("div"),f.innerHTML='<i class="fas fa-times"></i>',d=y(),oe(p.$$.fragment),l.src!==(o=e[1].avatar??e[2].defaultAvatar)&&M(l,"src",o),M(l,"alt",i=e[1].name),M(l,"class","Q3psonk"),M(r,"class","Q3psonk"),M(f,"class","logout Q3psonk"),M(n,"class","user Q3psonk"),M(t,"class","Q3psonk"),O(t,"wide",e[0])},m(s,o){m(s,t,o),h(t,n),h(n,l),h(n,c),h(n,r),h(r,a),h(n,u),h(n,f),h(t,d),ie(p,t,null),v=!0,w||(k=[x(l,"click",e[3]),x(f,"click",Ce.logout)],w=!0)},p(e,[n]){(!v||6&n&&l.src!==(o=e[1].avatar??e[2].defaultAvatar))&&M(l,"src",o),(!v||2&n&&i!==(i=e[1].name))&&M(l,"alt",i),(!v||2&n)&&Q!==(Q=e[1].name+"")&&E(a,Q);const s={};4&n&&(s.menu=e[2].menu),1&n&&(s.wide=e[0]),p.$set(s),1&n&&O(t,"wide",e[0])},i(e){v||(G(p.$$.fragment,e),v=!0)},o(e){ee(p.$$.fragment,e),v=!1},d(e){e&&g(t),ce(p),w=!1,s(k)}}}function Ve(e,t,n){let l,s;c(e,Qe,(e=>n(1,l=e))),c(e,Me,(e=>n(2,s=e)));let o=localStorage.getItem("nav-panel-wide");return[o,l,s,function(){n(0,o=!o)?localStorage.setItem("nav-panel-wide","1"):localStorage.removeItem("nav-panel-wide")}]}class Xe extends ae{constructor(e){super(),re(this,e,Ve,Je,i,{})}}class Re{constructor(e,t=!0,n=!1,l=null){this.initial=!1,this.twoWay=!1,this.fields=[],this.key=null,this.label=e,this.twoWay=t,this.initial=n,this.key=l}asc(e){return this.fields.push({field:e,order:1}),this}desc(e){return this.fields.push({field:e,order:-1}),this}get(){let e=[{label:this.label,order:"asc",fields:this.key?this.key+"-asc":this.fields.map((e=>[e.field,1===e.order?"asc":"desc"])),initial:this.initial}];return this.twoWay&&e.push({label:this.label,order:"desc",fields:this.key?this.key+"-desc":this.fields.map((e=>[e.field,1===e.order?"desc":"asc"])),initial:!1}),e}}class We{constructor(e,t,n){this.icon=e,this.label=t,this.onClick=n}}class Ue{constructor(e,t,n,l,s,o,i,c){this.label=e,this.icon=t,this.actions=n,this.limit=l,this.fetcher=o,this.card=i,this.cardify=c,this.sorting=[],s.forEach((e=>this.sorting.push(...e.get())));let r=this.sorting.findIndex((e=>e.initial));this.initialSortingIndex=r>-1?r:0}static Sorting(e,t=!0,n=!1,l=null){return new Re(e,t,n,l)}static Action(e,t,n){return new We(e,t,n)}}class Ke{constructor(e){this.initialised=!1,this.items=[],this.count=0,this.page=1,this.pageCount=1,this.quickSearch=null,this.config=e,this.sortingIndex=e.initialSortingIndex}static create(e,t,n,l,s,o,i,c){let r=new Ue(e,t,n,l,s,o,i,c);return new Ke(r)}reload(){return this.loadData()}loadData(){return this.initialised=!0,this.config.fetcher.list(this.page,this.config.sorting[this.sortingIndex],this.quickSearch,{},this.config.limit).then((e=>{this.count=e.count,this.page=e.page,this.pageCount=Math.ceil(e.count/this.config.limit),this.items.length=0,this.items.push(...e.items.map((e=>this.config.cardify(e))))}))}}function Ze(e,t,n){const l=e.slice();return l[15]=t[n],l}function Ge(e,t,n){const l=e.slice();return l[18]=t[n],l[20]=n,l}function et(e,t,n){const l=e.slice();return l[21]=t[n],l}function tt(e){let t,n=e[0].config.actions,l=[];for(let t=0;t<n.length;t+=1)l[t]=nt(et(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);m(e,t,n)},p(e,s){if(1&s){let o;for(n=e[0].config.actions,o=0;o<n.length;o+=1){const i=et(e,n,o);l[o]?l[o].p(i,s):(l[o]=nt(i),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){v(l,e),e&&g(t)}}}function nt(e){let t,n,l,s,o,i;function c(){return e[7](e[21])}return{c(){t=b("button"),n=b("i"),M(n,"class",l=f(e[21].icon)+" Qgu5wy9"),M(t,"title",s=e[21].label),M(t,"class","Qgu5wy9")},m(e,l){m(e,t,l),h(t,n),o||(i=x(t,"click",Q(c)),o=!0)},p(o,i){e=o,1&i&&l!==(l=f(e[21].icon)+" Qgu5wy9")&&M(n,"class",l),1&i&&s!==(s=e[21].label)&&M(t,"title",s)},d(e){e&&g(t),o=!1,i()}}}function lt(e){let t,n,l=("asc"===e[18].order?"▼ ":"▲ ")+e[18].label;return{c(){t=b("option"),n=$(l),t.__value=e[20],t.value=t.__value},m(e,l){m(e,t,l),h(t,n)},p(e,t){1&t&&l!==(l=("asc"===e[18].order?"▼ ":"▲ ")+e[18].label)&&E(n,l)},d(e){e&&g(t)}}}function st(e){let t,n,l;var s=e[0].config.card;function o(e){return{props:{item:e[15],list:e[2]}}}return s&&(t=new s(o(e))),{c(){t&&oe(t.$$.fragment),n=w()},m(e,s){t&&ie(t,e,s),m(e,n,s),l=!0},p(e,l){const i={};if(4&l&&(i.item=e[15]),4&l&&(i.list=e[2]),s!==(s=e[0].config.card)){if(t){K();const e=t;ee(e.$$.fragment,1,0,(()=>{ce(e,1)})),Z()}s?(t=new s(o(e)),oe(t.$$.fragment),G(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){l||(t&&G(t.$$.fragment,e),l=!0)},o(e){t&&ee(t.$$.fragment,e),l=!1},d(e){e&&g(n),t&&ce(t,e)}}}function ot(e){let t,n,l,o,i,c,r,a,u,f,d,p,w,k,Q,C,T,z,j,L,N,F,P,B,I,A,D,q,H,J,V,X,R,W,U=e[0].config.label+"",te=e[2].count+"",ne=e[2].pageCount+"",le=e[0].config.actions&&tt(e),se=e[0].config.sorting,oe=[];for(let t=0;t<se.length;t+=1)oe[t]=lt(Ge(e,se,t));let ie=e[2].items,ce=[];for(let t=0;t<ie.length;t+=1)ce[t]=st(Ze(e,ie,t));const re=e=>ee(ce[e],1,1,(()=>{ce[e]=null}));return{c(){t=b("main"),n=b("header"),l=b("section"),o=b("i"),c=y(),r=b("span"),a=b("div"),u=$(U),f=y(),d=b("div"),p=$(te),w=y(),k=b("div"),le&&le.c(),Q=y(),C=b("section"),T=b("input"),z=y(),j=b("section"),L=b("button"),L.innerHTML='<i class="fas fa-chevron-left"></i>',N=y(),F=b("input"),P=y(),B=b("span"),I=$(ne),A=y(),D=b("button"),D.innerHTML='<i class="fas fa-chevron-right"></i>',q=y(),H=b("select");for(let e=0;e<oe.length;e+=1)oe[e].c();J=y(),V=b("section");for(let e=0;e<ce.length;e+=1)ce[e].c();M(o,"class",i="icon "+e[0].config.icon+" Qgu5wy9"),M(a,"class","label Qgu5wy9"),M(d,"class","count Qgu5wy9"),M(r,"class","title"),M(k,"class","buttons Qgu5wy9"),M(l,"class","info Qgu5wy9"),M(T,"type","text"),M(T,"placeholder","search"),M(T,"class","Qgu5wy9"),M(C,"class","tools search Qgu5wy9"),M(L,"class","Qgu5wy9"),M(F,"type","text"),M(F,"class","Qgu5wy9"),M(B,"class","of Qgu5wy9"),M(D,"class","Qgu5wy9"),M(H,"class","Qgu5wy9"),void 0===e[0].sortingIndex&&Y((()=>e[12].call(H))),M(j,"class","tools paging Qgu5wy9"),M(n,"class","Qgu5wy9"),M(V,"class","listing Qgu5wy9"),M(t,"class","Qgu5wy9"),O(t,"selected",e[1])},m(s,i){m(s,t,i),h(t,n),h(n,l),h(l,o),h(l,c),h(l,r),h(r,a),h(a,u),h(r,f),h(r,d),h(d,p),h(l,w),h(l,k),le&&le.m(k,null),h(n,Q),h(n,C),h(C,T),_(T,e[0].quickSearch),h(n,z),h(n,j),h(j,L),h(j,N),h(j,F),_(F,e[2].page),h(j,P),h(j,B),h(B,I),h(j,A),h(j,D),h(j,q),h(j,H);for(let e=0;e<oe.length;e+=1)oe[e].m(H,null);S(H,e[0].sortingIndex),h(t,J),h(t,V);for(let e=0;e<ce.length;e+=1)ce[e].m(V,null);X=!0,R||(W=[x(T,"input",e[8]),x(T,"input",e[4]),x(L,"click",e[9]),x(F,"input",e[10]),x(F,"input",e[5]),x(D,"click",e[11]),x(H,"change",e[12]),x(H,"input",e[6])],R=!0)},p(e,[n]){if((!X||1&n&&i!==(i="icon "+e[0].config.icon+" Qgu5wy9"))&&M(o,"class",i),(!X||1&n)&&U!==(U=e[0].config.label+"")&&E(u,U),(!X||4&n)&&te!==(te=e[2].count+"")&&E(p,te),e[0].config.actions?le?le.p(e,n):(le=tt(e),le.c(),le.m(k,null)):le&&(le.d(1),le=null),1&n&&T.value!==e[0].quickSearch&&_(T,e[0].quickSearch),4&n&&F.value!==e[2].page&&_(F,e[2].page),(!X||4&n)&&ne!==(ne=e[2].pageCount+"")&&E(I,ne),1&n){let t;for(se=e[0].config.sorting,t=0;t<se.length;t+=1){const l=Ge(e,se,t);oe[t]?oe[t].p(l,n):(oe[t]=lt(l),oe[t].c(),oe[t].m(H,null))}for(;t<oe.length;t+=1)oe[t].d(1);oe.length=se.length}if(1&n&&S(H,e[0].sortingIndex),5&n){let t;for(ie=e[2].items,t=0;t<ie.length;t+=1){const l=Ze(e,ie,t);ce[t]?(ce[t].p(l,n),G(ce[t],1)):(ce[t]=st(l),ce[t].c(),G(ce[t],1),ce[t].m(V,null))}for(K(),t=ie.length;t<ce.length;t+=1)re(t);Z()}2&n&&O(t,"selected",e[1])},i(e){if(!X){for(let e=0;e<ie.length;e+=1)G(ce[e]);X=!0}},o(e){ce=ce.filter(Boolean);for(let e=0;e<ce.length;e+=1)ee(ce[e]);X=!1},d(e){e&&g(t),le&&le.d(),v(oe,e),v(ce,e),R=!1,s(W)}}}function it(e,t,n){let l,{selected:s=!1}=t,{list:o}=t;const i=we(o);let r,a;function u(){""!==l.page&&(d(i,l.page=isNaN(l.page)?1:l.page,l),l.page<1&&d(i,l.page=1,l),clearTimeout(a),a=setTimeout(f,250))}function f(){return o.loadData().then((()=>d(i,l=o,l)))}c(e,i,(e=>n(2,l=e))),o.reload=()=>f();return e.$$set=e=>{"selected"in e&&n(1,s=e.selected),"list"in e&&n(0,o=e.list)},e.$$.update=()=>{3&e.$$.dirty&&s&&!o.initialised&&f()},[o,s,l,i,function(){clearTimeout(r),r=setTimeout(f,250)},u,f,e=>e.onClick(o),function(){o.quickSearch=this.value,n(0,o)},()=>{d(i,l.page--,l),u()},function(){l.page=this.value,i.set(l)},()=>{d(i,l.page++,l),u()},function(){o.sortingIndex=T(this),n(0,o)}]}class ct extends ae{constructor(e){super(),re(this,e,it,ot,i,{selected:1,list:0})}}let rt=new class{constructor(){this._documents=[],this.active=we(null),this._documents=[],this.documents=we(this._documents)}has(e){return this.docIndex(e)>-1}docIndex(e){return this._documents.findIndex((t=>t.$id===e))}add(e){this._documents.push(e),this.documents.set(this._documents)}show(e){this.active.set(this._documents[this.docIndex(e)])}close(e){let t=this.docIndex(e);this._documents.length>1&&(t===this._documents.length-1?this.show(this._documents[t-1].$id):this.show(this._documents[t+1].$id)),this._documents.splice(t,1),this.documents.set(this._documents)}},at=rt.documents;class ut extends Error{constructor(e,t=""){super(e),this.info=t}}class ft{constructor(e){this._id=e}get class(){return Object.getPrototypeOf(this).constructor}static $id(e=""){return this.$idPrefix+"--"+e}static open(e=null){let t=this.$id(e);rt.has(t)||rt.add(new this(e)),rt.show(t)}static create(...e){}get icon(){return this.class.icon}get label(){return"LABEL"}get info(){return"INFO"}get component(){return Object.getPrototypeOf(this).constructor.component}get $id(){return Object.getPrototypeOf(this).constructor.$id(this.id)}get id(){return this._id}set id(e){if(e!==this._id){if(rt.has(this.class.$id(e)))throw new ut("Can not change document id","Duplicate document id: "+this.class.$id(e));this._id=e,at.update((e=>e))}}close(){rt.close(this.$id)}}function dt(e){let t,n,l;var s=e[0].component;function o(e){return{props:{doc:e[0]}}}return s&&(n=new s(o(e))),{c(){t=b("main"),n&&oe(n.$$.fragment),M(t,"class","Qh6p0ix"),O(t,"selected",e[1])},m(e,s){m(e,t,s),n&&ie(n,t,null),l=!0},p(e,[l]){const i={};if(1&l&&(i.doc=e[0]),s!==(s=e[0].component)){if(n){K();const e=n;ee(e.$$.fragment,1,0,(()=>{ce(e,1)})),Z()}s?(n=new s(o(e)),oe(n.$$.fragment),G(n.$$.fragment,1),ie(n,t,null)):n=null}else s&&n.$set(i);2&l&&O(t,"selected",e[1])},i(e){l||(n&&G(n.$$.fragment,e),l=!0)},o(e){n&&ee(n.$$.fragment,e),l=!1},d(e){e&&g(t),n&&ce(n)}}}function pt(e,t,n){let{doc:l}=t,{selected:s}=t;return e.$$set=e=>{"doc"in e&&n(0,l=e.doc),"selected"in e&&n(1,s=e.selected)},[l,s]}ft.create=function(e,t){return Object.assign(class extends ft{},{component:e,$idPrefix:t})};class ht extends ae{constructor(e){super(),re(this,e,pt,dt,i,{doc:0,selected:1})}}function mt(e){let t,n;const l=e[1].default,s=r(l,e,e[0],null);return{c(){t=b("main"),s&&s.c(),M(t,"class","Q5gptos")},m(e,l){m(e,t,l),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&1&t&&u(s,l,e,e[0],t,null,null)},i(e){n||(G(s,e),n=!0)},o(e){ee(s,e),n=!1},d(e){e&&g(t),s&&s.d(e)}}}function gt(e,t,n){let{$$slots:l={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,l]}class vt extends ae{constructor(e){super(),re(this,e,gt,mt,i,{})}}function bt(t){let n,l,o,i,c,r,a,u,d,p,v,w,k,Q,_=t[1].info+"",C=t[1].label+"";return{c(){n=b("main"),l=b("i"),i=y(),c=b("span"),r=$(_),a=y(),u=b("i"),d=y(),p=b("span"),v=$(C),M(l,"class",o=f(t[1].icon)+" Q2qpot6"),M(c,"class","info Q2qpot6"),M(u,"class","close fas fa-times Q2qpot6"),M(p,"class","label Q2qpot6"),M(n,"title",w=t[1].label),M(n,"class","Q2qpot6"),O(n,"selected",t[0])},m(e,s){m(e,n,s),h(n,l),h(n,i),h(n,c),h(c,r),h(n,a),h(n,u),h(n,d),h(n,p),h(p,v),k||(Q=[x(u,"click",t[4]),x(n,"click",t[3])],k=!0)},p(e,[t]){2&t&&o!==(o=f(e[1].icon)+" Q2qpot6")&&M(l,"class",o),2&t&&_!==(_=e[1].info+"")&&E(r,_),2&t&&C!==(C=e[1].label+"")&&E(v,C),2&t&&w!==(w=e[1].label)&&M(n,"title",w),1&t&&O(n,"selected",e[0])},i:e,o:e,d(e){e&&g(n),k=!1,s(Q)}}}function $t(e,t,n){let{selected:l}=t,{doc:s}=t;function o(e){l&&e.close()}return e.$$set=e=>{"selected"in e&&n(0,l=e.selected),"doc"in e&&n(1,s=e.doc)},[l,s,o,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)},()=>o(s)]}class yt extends ae{constructor(e){super(),re(this,e,$t,bt,i,{selected:0,doc:1})}}let wt={manager:rt,Doc:ft,create:ft.create.bind(ft)};function xt(e,t,n){const l=e.slice();return l[7]=t[n],l}function kt(e,t,n){const l=e.slice();return l[10]=t[n],l}function Qt(e,t,n){const l=e.slice();return l[7]=t[n],l}function Mt(e){let t,n;return t=new yt({props:{doc:e[7],selected:e[7]===e[1]}}),t.$on("click",(function(){return e[6](e[7])})),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(n,l){e=n;const s={};1&l&&(s.doc=e[7]),3&l&&(s.selected=e[7]===e[1]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Et(e){let t,n,l=e[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=Mt(Qt(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=w()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);m(e,t,l),n=!0},p(e,n){if(3&n){let i;for(l=e[0],i=0;i<l.length;i+=1){const o=Qt(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=Mt(o),s[i].c(),G(s[i],1),s[i].m(t.parentNode,t))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(e){v(s,e),e&&g(t)}}}function _t(e){let t,n;return t=new ct({props:{list:e[10],selected:e[10]===e[3]}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.list=e[10]),12&n&&(l.selected=e[10]===e[3]),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ct(e){let t,n;return t=new ht({props:{doc:e[7],selected:e[7]===e[1]}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.doc=e[7]),3&n&&(l.selected=e[7]===e[1]),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function St(e){let t,n,l,s,o,i,c;n=new Xe({}),s=new vt({props:{$$slots:{default:[Et]},$$scope:{ctx:e}}});let r=e[2].lists,a=[];for(let t=0;t<r.length;t+=1)a[t]=_t(kt(e,r,t));const u=e=>ee(a[e],1,1,(()=>{a[e]=null}));let f=e[0],d=[];for(let t=0;t<f.length;t+=1)d[t]=Ct(xt(e,f,t));const p=e=>ee(d[e],1,1,(()=>{d[e]=null}));return{c(){t=b("main"),oe(n.$$.fragment),l=y(),oe(s.$$.fragment),o=y();for(let e=0;e<a.length;e+=1)a[e].c();i=y();for(let e=0;e<d.length;e+=1)d[e].c();M(t,"class","Q1v2avhj")},m(e,r){m(e,t,r),ie(n,t,null),h(t,l),ie(s,t,null),h(t,o);for(let e=0;e<a.length;e+=1)a[e].m(t,null);h(t,i);for(let e=0;e<d.length;e+=1)d[e].m(t,null);c=!0},p(e,[n]){const l={};if(32771&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l),12&n){let l;for(r=e[2].lists,l=0;l<r.length;l+=1){const s=kt(e,r,l);a[l]?(a[l].p(s,n),G(a[l],1)):(a[l]=_t(s),a[l].c(),G(a[l],1),a[l].m(t,i))}for(K(),l=r.length;l<a.length;l+=1)u(l);Z()}if(3&n){let l;for(f=e[0],l=0;l<f.length;l+=1){const s=xt(e,f,l);d[l]?(d[l].p(s,n),G(d[l],1)):(d[l]=Ct(s),d[l].c(),G(d[l],1),d[l].m(t,null))}for(K(),l=f.length;l<d.length;l+=1)p(l);Z()}},i(e){if(!c){G(n.$$.fragment,e),G(s.$$.fragment,e);for(let e=0;e<r.length;e+=1)G(a[e]);for(let e=0;e<f.length;e+=1)G(d[e]);c=!0}},o(e){ee(n.$$.fragment,e),ee(s.$$.fragment,e),a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ee(a[e]);d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)ee(d[e]);c=!1},d(e){e&&g(t),ce(n),ce(s),v(a,e),v(d,e)}}}function Tt(e,t,n){let l,s,o,i;c(e,Me,(e=>n(2,o=e))),c(e,Ee,(e=>n(3,i=e)));let r=wt.manager.active;c(e,r,(e=>n(1,s=e)));let a=wt.manager.documents;c(e,a,(e=>n(0,l=e)));return[l,s,o,i,r,a,e=>d(r,s=e,s)]}class Ot extends ae{constructor(e){super(),re(this,e,Tt,St,i,{})}}function zt(e,t,n){const l=e.slice();return l[1]=t[n],l}function jt(e){let t,n,l,s,o,i,c,r,a,u,d,p=e[1].label+"",v=e[1].info+"";return{c(){t=b("section"),n=b("i"),s=y(),o=b("div"),i=$(p),c=y(),r=b("div"),a=$(v),u=y(),M(n,"class",l=f("fa "+e[1].icon)+" Q1mwykiy"),M(r,"class","info Q1mwykiy"),M(o,"class","label Q1mwykiy"),M(t,"class",d=f(e[1].type)+" Q1mwykiy"),O(t,"hide",e[1].hide)},m(e,l){m(e,t,l),h(t,n),h(t,s),h(t,o),h(o,i),h(o,c),h(o,r),h(r,a),h(t,u)},p(e,s){1&s&&l!==(l=f("fa "+e[1].icon)+" Q1mwykiy")&&M(n,"class",l),1&s&&p!==(p=e[1].label+"")&&E(i,p),1&s&&v!==(v=e[1].info+"")&&E(a,v),1&s&&d!==(d=f(e[1].type)+" Q1mwykiy")&&M(t,"class",d),1&s&&O(t,"hide",e[1].hide)},d(e){e&&g(t)}}}function Lt(t){let n,l,s,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=jt(zt(t,o,e));return{c(){n=b("main");for(let e=0;e<i.length;e+=1)i[e].c();M(n,"class","Q1mwykiy")},m(e,t){m(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);l||(s=p(me.portal.call(null,n,"body")),l=!0)},p(e,[t]){if(1&t){let l;for(o=e[0],l=0;l<o.length;l+=1){const s=zt(e,o,l);i[l]?i[l].p(s,t):(i[l]=jt(s),i[l].c(),i[l].m(n,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},i:e,o:e,d(e){e&&g(n),v(i,e),l=!1,s()}}}function Nt(e,t,n){let l;return c(e,xe,(e=>n(0,l=e))),[l]}class Ft extends ae{constructor(e){super(),re(this,e,Nt,Lt,i,{})}}let Pt=we([]);const Bt=new class{show(e,t={}){Pt.update((n=>[...n,new It(e,t)]))}close(e){Pt.update((t=>{let n=t.indexOf(e);return n>-1&&t.splice(n,1),t}))}};class It{constructor(e,t){this.Component=e,this.properties=t}close(){return()=>Bt.close(this)}}function At(e,t,n){const l=e.slice();return l[1]=t[n],l}function Dt(e){let n,l;const s=[e[1].properties,{close:e[1].close()}];let o={};for(let e=0;e<s.length;e+=1)o=t(o,s[e]);return n=new e[1].Component({props:o}),{c(){oe(n.$$.fragment)},m(e,t){ie(n,e,t),l=!0},p(e,t){const l=1&t?ne(s,[le(e[1].properties),{close:e[1].close()}]):{};n.$set(l)},i(e){l||(G(n.$$.fragment,e),l=!0)},o(e){ee(n.$$.fragment,e),l=!1},d(e){ce(n,e)}}}function qt(e){let t,n,l=e[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=Dt(At(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=w()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);m(e,t,l),n=!0},p(e,[n]){if(1&n){let i;for(l=e[0],i=0;i<l.length;i+=1){const o=At(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=Dt(o),s[i].c(),G(s[i],1),s[i].m(t.parentNode,t))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(e){v(s,e),e&&g(t)}}}function Ht(e,t,n){let l;return c(e,Pt,(e=>n(0,l=e))),[l]}class Yt extends ae{constructor(e){super(),re(this,e,Ht,qt,i,{})}}class Jt extends Error{constructor(e){super(),this.response=e}}class Vt extends Error{constructor(e){super(),this.response=e}}class Xt extends Error{constructor(e){super(),this.response=e}}class Rt{static register(){this._registered||(window.addEventListener("unhandledrejection",(e=>this.handle(e.reason))),window.addEventListener("error",(e=>this.handle(e.error))),this._registered=!0)}static handle(e){e instanceof _e?(ke.error("Not authenticated","You must log in to continue"),fetch("/api/auth/logout").then((()=>Qe.set(null)))):e instanceof Jt?ke.error("You dont have permission for the requested resource!",e.message):e instanceof ut?ke.error(e.message,e.info):e instanceof Vt?ke.error("The requested resource can not be found!"):e instanceof Xt?ke.error("Validation Error!"):ke.error("Some unknown error occurred: ",e.message)}}function Wt(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function Ut(e){let t,n,l,s;const o=[Zt,Kt],i=[];function c(e,t){return null===e[0]?0:1}return t=c(e),n=i[t]=o[t](e),{c(){n.c(),l=w()},m(e,n){i[t].m(e,n),m(e,l,n),s=!0},p(e,s){let r=t;t=c(e),t!==r&&(K(),ee(i[r],1,1,(()=>{i[r]=null})),Z(),n=i[t],n||(n=i[t]=o[t](e),n.c()),G(n,1),n.m(l.parentNode,l))},i(e){s||(G(n),s=!0)},o(e){ee(n),s=!1},d(e){i[t].d(e),e&&g(l)}}}function Kt(e){let t,n;return t=new Ot({}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Zt(e){let t,n;return t=new Ne({}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Gt(e){let t,n;return t=new $e({props:{icon:"fad fa-spinner fa-spin",$$slots:{default:[en]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function en(e){let t;return{c(){t=$("Initializing magic...")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function tn(e){let t,n,l,s,o,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Gt,then:Ut,catch:Wt,value:2,blocks:[,,,]};return te(e[1],i),n=new Ft({}),s=new Yt({}),{c(){i.block.c(),t=y(),oe(n.$$.fragment),l=y(),oe(s.$$.fragment)},m(e,c){i.block.m(e,i.anchor=c),i.mount=()=>t.parentNode,i.anchor=t,m(e,t,c),ie(n,e,c),m(e,l,c),ie(s,e,c),o=!0},p(t,[n]){{const l=(e=t).slice();l[2]=i.resolved,i.block.p(l,n)}},i(e){o||(G(i.block),G(n.$$.fragment,e),G(s.$$.fragment,e),o=!0)},o(e){for(let e=0;e<3;e+=1){ee(i.blocks[e])}ee(n.$$.fragment,e),ee(s.$$.fragment,e),o=!1},d(e){i.block.d(e),i.token=null,i=null,e&&g(t),ce(n,e),e&&g(l),ce(s,e)}}}function nn(e,t,n){let l;c(e,Qe,(e=>n(0,l=e))),Rt.register();let s=Ce.isAuthenticated();return[l,s]}Rt._registered=!1;class ln extends ae{constructor(e){super(),re(this,e,nn,tn,i,{})}}function sn(e,t,n){const l=e.slice();return l[3]=t[n],l}function on(e,t,n){const l=e.slice();return l[6]=t[n],l}function cn(e,t,n){const l=e.slice();return l[9]=t[n],l}function rn(e){let t,n,l;return{c(){t=b("img"),M(t,"alt",n=e[0].label),t.src!==(l=e[0].img)&&M(t,"src",l),M(t,"loading","lazy"),M(t,"class","Q11w6ue4")},m(e,n){m(e,t,n)},p(e,s){1&s&&n!==(n=e[0].label)&&M(t,"alt",n),1&s&&t.src!==(l=e[0].img)&&M(t,"src",l)},d(e){e&&g(t)}}}function an(e){let t,n,l,s;return{c(){t=b("span"),n=b("img"),M(n,"alt",l=e[0].label),n.src!==(s=e[0].avatar)&&M(n,"src",s),M(n,"loading","lazy"),M(n,"class","Q11w6ue4"),M(t,"class","avatar Q11w6ue4")},m(e,l){m(e,t,l),h(t,n)},p(e,t){1&t&&l!==(l=e[0].label)&&M(n,"alt",l),1&t&&n.src!==(s=e[0].avatar)&&M(n,"src",s)},d(e){e&&g(t)}}}function un(e){let t,n=e[0].icons,l=[];for(let t=0;t<n.length;t+=1)l[t]=fn(cn(e,n,t));return{c(){t=b("span");for(let e=0;e<l.length;e+=1)l[e].c();M(t,"class","icons Q11w6ue4")},m(e,n){m(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(1&s){let o;for(n=e[0].icons,o=0;o<n.length;o+=1){const i=cn(e,n,o);l[o]?l[o].p(i,s):(l[o]=fn(i),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&g(t),v(l,e)}}}function fn(e){let t,n,l,s,o,i,c;return{c(){t=b("span"),n=b("i"),l=y(),s=b("i"),i=y(),M(n,"class","fas fa-circle fa-stack-2x"),C(n,"color","#000c"),M(s,"class",o=e[9].icon+" fa-stack-1x fa-inverse Q11w6ue4"),C(s,"color",e[9].color?e[9].color:"#fffd"),M(t,"class","fa-stack fa-2x"),C(t,"font-size","10px"),M(t,"title",c=e[9].hint)},m(e,o){m(e,t,o),h(t,n),h(t,l),h(t,s),h(t,i)},p(e,n){1&n&&o!==(o=e[9].icon+" fa-stack-1x fa-inverse Q11w6ue4")&&M(s,"class",o),1&n&&C(s,"color",e[9].color?e[9].color:"#fffd"),1&n&&c!==(c=e[9].hint)&&M(t,"title",c)},d(e){e&&g(t)}}}function dn(e){let t,n=e[0].properties,l=[];for(let t=0;t<n.length;t+=1)l[t]=pn(on(e,n,t));return{c(){t=b("span");for(let e=0;e<l.length;e+=1)l[e].c();M(t,"class","props Q11w6ue4")},m(e,n){m(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(1&s){let o;for(n=e[0].properties,o=0;o<n.length;o+=1){const i=on(e,n,o);l[o]?l[o].p(i,s):(l[o]=pn(i),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&g(t),v(l,e)}}}function pn(e){let t,n,l,s,o,i=e[6].label+"",c=e[6].value+"";return{c(){t=b("span"),n=$(i),l=y(),s=b("span"),o=$(c),M(t,"class","label Q11w6ue4"),M(s,"class","value Q11w6ue4")},m(e,i){m(e,t,i),h(t,n),m(e,l,i),m(e,s,i),h(s,o)},p(e,t){1&t&&i!==(i=e[6].label+"")&&E(n,i),1&t&&c!==(c=e[6].value+"")&&E(o,c)},d(e){e&&g(t),e&&g(l),e&&g(s)}}}function hn(e){let t,n=e[0].actions,l=[];for(let t=0;t<n.length;t+=1)l[t]=mn(sn(e,n,t));return{c(){t=b("footer");for(let e=0;e<l.length;e+=1)l[e].c();M(t,"class","Q11w6ue4")},m(e,n){m(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(3&s){let o;for(n=e[0].actions,o=0;o<n.length;o+=1){const i=sn(e,n,o);l[o]?l[o].p(i,s):(l[o]=mn(i),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&g(t),v(l,e)}}}function mn(e){let t,n,l,s,o,i;function c(){return e[2](e[3])}return{c(){t=b("button"),n=b("i"),M(n,"class",l=f(e[3].icon)+" Q11w6ue4"),M(t,"title",s=e[3].label),M(t,"class","Q11w6ue4")},m(e,l){m(e,t,l),h(t,n),o||(i=x(t,"click",Q(c)),o=!0)},p(o,i){e=o,1&i&&l!==(l=f(e[3].icon)+" Q11w6ue4")&&M(n,"class",l),1&i&&s!==(s=e[3].label)&&M(t,"title",s)},d(e){e&&g(t),o=!1,i()}}}function gn(t){let n,l,s,i,c,r,a,u,f,d,p,v,w,k,Q,_=t[0].label+"",C=t[0].id+"",S=t[0].img&&rn(t),T=t[0].avatar&&an(t),z=t[0].icons&&un(t),j=t[0].properties&&dn(t),L=t[0].actions&&hn(t);return{c(){n=b("main"),S&&S.c(),l=y(),s=b("header"),T&&T.c(),i=y(),c=b("span"),r=b("span"),a=$(_),u=y(),f=b("span"),d=$(C),p=y(),z&&z.c(),v=y(),j&&j.c(),w=y(),L&&L.c(),M(r,"class","label ellipsis Q11w6ue4"),M(f,"class","id Q11w6ue4"),M(c,"class","info Q11w6ue4"),M(s,"class","Q11w6ue4"),M(n,"class","Q11w6ue4"),O(n,"inactive",!t[0].active)},m(e,g){m(e,n,g),S&&S.m(n,null),h(n,l),h(n,s),T&&T.m(s,null),h(s,i),h(s,c),h(c,r),h(r,a),h(c,u),h(c,f),h(f,d),h(s,p),z&&z.m(s,null),h(n,v),j&&j.m(n,null),h(n,w),L&&L.m(n,null),k||(Q=x(n,"click",(function(){o(t[0].action)&&t[0].action.apply(this,arguments)})),k=!0)},p(e,[o]){(t=e)[0].img?S?S.p(t,o):(S=rn(t),S.c(),S.m(n,l)):S&&(S.d(1),S=null),t[0].avatar?T?T.p(t,o):(T=an(t),T.c(),T.m(s,i)):T&&(T.d(1),T=null),1&o&&_!==(_=t[0].label+"")&&E(a,_),1&o&&C!==(C=t[0].id+"")&&E(d,C),t[0].icons?z?z.p(t,o):(z=un(t),z.c(),z.m(s,null)):z&&(z.d(1),z=null),t[0].properties?j?j.p(t,o):(j=dn(t),j.c(),j.m(n,w)):j&&(j.d(1),j=null),t[0].actions?L?L.p(t,o):(L=hn(t),L.c(),L.m(n,null)):L&&(L.d(1),L=null),1&o&&O(n,"inactive",!t[0].active)},i:e,o:e,d(e){e&&g(n),S&&S.d(),T&&T.d(),z&&z.d(),j&&j.d(),L&&L.d(),k=!1,Q()}}}function vn(e,t,n){let{item:l}=t,{list:s}=t;return e.$$set=e=>{"item"in e&&n(0,l=e.item),"list"in e&&n(1,s=e.list)},[l,s,e=>e.onClick(s)]}class bn{constructor(e,t,n=null,l=null){this.icon=t,this.color=n,this.hint=l,this.icon=e+" "+t}}class $n{constructor(e,t){this.label=e,this.value=t}}class yn{constructor(e,t,n){this.icon=e,this.label=t,this.onClick=n}}class wn{constructor(e,t,n,l=!0,s=null,o=null,i=null,c=null,r=null){this.id=e,this.action=t,this.label=n,this.active=l,this.img=s,this.avatar=o,this.icons=i,this.properties=c,this.actions=r}}class xn{static Cardify(e,t,n,l=!0,s=null,o=null,i=null,c=null,r=null){return new wn(e,t,n,l,s,o,i,c,r)}static Icon(e,t,n=null,l=null){return new bn(e,t,n,l)}static Property(e,t){return new $n(e,t)}static Action(e,t,n){return new yn(e,t,n)}}function kn(e){switch(e.status){case 200:return e.json().catch((t=>{throw new ut("Some error occurred ("+e.status+")",e.url)}));case 401:throw new _e(e);case 403:throw new Jt(e);case 404:throw new Vt(e);case 422:throw new Xt(e);case 499:throw new ut(e.statusText);default:throw new ut("Some error occurred ("+e.status+")",e.url)}}xn.Component=class extends ae{constructor(e){super(),re(this,e,vn,gn,i,{item:0,list:1})}};class Qn{constructor(e,t,n){this.page=e,this.count=t,this.items=n}}function Mn(e){let t,n,l,s,o;const i=e[3].default,c=r(i,e,e[2],null);return{c(){t=b("section"),n=b("header"),l=$(e[0]),s=y(),c&&c.c(),M(n,"class","Qlsdj8n"),M(t,"class","Qlsdj8n"),O(t,"wide",e[1])},m(e,i){m(e,t,i),h(t,n),h(n,l),h(t,s),c&&c.m(t,null),o=!0},p(e,[n]){(!o||1&n)&&E(l,e[0]),c&&c.p&&4&n&&u(c,i,e,e[2],n,null,null),2&n&&O(t,"wide",e[1])},i(e){o||(G(c,e),o=!0)},o(e){ee(c,e),o=!1},d(e){e&&g(t),c&&c.d(e)}}}function En(e,t,n){let{$$slots:l={},$$scope:s}=t,{label:o}=t,{wide:i}=t;return e.$$set=e=>{"label"in e&&n(0,o=e.label),"wide"in e&&n(1,i=e.wide),"$$scope"in e&&n(2,s=e.$$scope)},[o,i,s,l]}class _n extends ae{constructor(e){super(),re(this,e,En,Mn,i,{label:0,wide:1})}}function Cn(e){let t;return{c(){t=b("i"),M(t,"class","hint-marker fad fa-info-circle Qzqtrvy")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Sn(e){let t;return{c(){t=b("div"),M(t,"class","hint Qzqtrvy")},m(n,l){m(n,t,l),t.innerHTML=e[2]},p(e,n){4&n&&(t.innerHTML=e[2])},d(e){e&&g(t)}}}function Tn(e){let t,n,l,s,o,i,c,a,f=e[2]&&Cn();const d=e[4].default,p=r(d,e,e[3],null);let v=e[2]&&Sn(e);return{c(){t=b("section"),n=b("span"),f&&f.c(),l=y(),s=$(e[0]),o=y(),p&&p.c(),i=y(),v&&v.c(),c=w(),M(n,"class","label Qzqtrvy"),M(t,"class","Qzqtrvy"),O(t,"vertical",!e[1])},m(e,r){m(e,t,r),h(t,n),f&&f.m(n,null),h(n,l),h(n,s),h(t,o),p&&p.m(t,null),m(e,i,r),v&&v.m(e,r),m(e,c,r),a=!0},p(e,[o]){e[2]?f||(f=Cn(),f.c(),f.m(n,l)):f&&(f.d(1),f=null),(!a||1&o)&&E(s,e[0]),p&&p.p&&8&o&&u(p,d,e,e[3],o,null,null),2&o&&O(t,"vertical",!e[1]),e[2]?v?v.p(e,o):(v=Sn(e),v.c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null)},i(e){a||(G(p,e),a=!0)},o(e){ee(p,e),a=!1},d(e){e&&g(t),f&&f.d(),p&&p.d(e),e&&g(i),v&&v.d(e),e&&g(c)}}}function On(e,t,n){let{$$slots:l={},$$scope:s}=t,{label:o}=t,{inlineLabel:i}=t,{hint:c}=t;return e.$$set=e=>{"label"in e&&n(0,o=e.label),"inlineLabel"in e&&n(1,i=e.inlineLabel),"hint"in e&&n(2,c=e.hint),"$$scope"in e&&n(3,s=e.$$scope)},[o,i,c,s,l]}class zn extends ae{constructor(e){super(),re(this,e,On,Tn,i,{label:0,inlineLabel:1,hint:2})}}function jn(t){let n,l,s,o,i,c,r,a,u,f;return{c(){n=b("div"),l=b("i"),s=y(),o=b("b"),i=$(t[0]),c=$(" ("),r=$(t[1]),a=$(" / "),u=$(t[2]),f=$(")"),M(l,"class","fas fa-exclamation-circle Qfzgwv6"),M(n,"class","Qfzgwv6")},m(e,t){m(e,n,t),h(n,l),h(n,s),h(n,o),h(o,i),h(n,c),h(n,r),h(n,a),h(n,u),h(n,f)},p(e,[t]){1&t&&E(i,e[0]),2&t&&E(r,e[1]),4&t&&E(u,e[2])},i:e,o:e,d(e){e&&g(n)}}}function Ln(e,t,n){let{message:l}=t,{field:s}=t,{label:o}=t;return e.$$set=e=>{"message"in e&&n(0,l=e.message),"field"in e&&n(1,s=e.field),"label"in e&&n(2,o=e.label)},[l,s,o]}class Nn extends ae{constructor(e){super(),re(this,e,Ln,jn,i,{message:0,field:1,label:2})}}function Fn(e,t,n){const l=e.slice();return l[7]=t[n],l}function Pn(e,t,n){const l=e.slice();return l[10]=t[n],l[11]=t,l[12]=n,l}function Bn(e,t,n){const l=e.slice();return l[13]=t[n],l}function In(e,t,n){const l=e.slice();return l[16]=t[n],l}function An(e){let t,n,l,s,o,i;function c(){return e[5](e[16])}return{c(){t=b("button"),n=b("i"),M(n,"class",l=f(e[16].icon)+" Q8nwlse"),t.disabled=s=!e[16].active(e[0]),M(t,"class","Q8nwlse")},m(e,l){m(e,t,l),h(t,n),o||(i=x(t,"click",c),o=!0)},p(o,i){e=o,1&i&&l!==(l=f(e[16].icon)+" Q8nwlse")&&M(n,"class",l),1&i&&s!==(s=!e[16].active(e[0]))&&(t.disabled=s)},d(e){e&&g(t),o=!1,i()}}}function Dn(e){let n,l,s,o;const i=[{name:e[10].field},e[10].props];function c(t){e[6](t,e[10])}var r=e[10].component;function a(e){let n={};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return void 0!==e[1][e[10].field]&&(n.value=e[1][e[10].field]),{props:n}}return r&&(n=new r(a(e)),B.push((()=>se(n,"value",c)))),{c(){n&&oe(n.$$.fragment),s=w()},m(e,t){n&&ie(n,e,t),m(e,s,t),o=!0},p(t,o){e=t;const u=1&o?ne(i,[{name:e[10].field},le(e[10].props)]):{};var f;if(!l&&3&o&&(l=!0,u.value=e[1][e[10].field],f=()=>l=!1,A.push(f)),r!==(r=e[10].component)){if(n){K();const e=n;ee(e.$$.fragment,1,0,(()=>{ce(e,1)})),Z()}r?(n=new r(a(e)),B.push((()=>se(n,"value",c))),oe(n.$$.fragment),G(n.$$.fragment,1),ie(n,s.parentNode,s)):n=null}else r&&n.$set(u)},i(e){o||(n&&G(n.$$.fragment,e),o=!0)},o(e){n&&ee(n.$$.fragment,e),o=!1},d(e){e&&g(s),n&&ce(n,e)}}}function qn(e){let t,n,l=e[2][e[10].field],s=[];for(let t=0;t<l.length;t+=1)s[t]=Hn(Bn(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=w()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);m(e,t,l),n=!0},p(e,n){if(5&n){let i;for(l=e[2][e[10].field],i=0;i<l.length;i+=1){const o=Bn(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=Hn(o),s[i].c(),G(s[i],1),s[i].m(t.parentNode,t))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(e){v(s,e),e&&g(t)}}}function Hn(e){let t,n;return t=new Nn({props:{message:e[13],field:e[10].field,label:e[10].label}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};5&n&&(l.message=e[13]),1&n&&(l.field=e[10].field),1&n&&(l.label=e[10].label),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Yn(e){let t,n,l,s;t=new zn({props:{label:e[10].label,inlineLabel:e[10].inlineLabel,hint:e[10].hint,$$slots:{default:[Dn]},$$scope:{ctx:e}}});let o=e[2][e[10].field]&&qn(e);return{c(){oe(t.$$.fragment),n=y(),o&&o.c(),l=w()},m(e,i){ie(t,e,i),m(e,n,i),o&&o.m(e,i),m(e,l,i),s=!0},p(e,n){const s={};1&n&&(s.label=e[10].label),1&n&&(s.inlineLabel=e[10].inlineLabel),1&n&&(s.hint=e[10].hint),524291&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[2][e[10].field]?o?(o.p(e,n),5&n&&G(o,1)):(o=qn(e),o.c(),G(o,1),o.m(l.parentNode,l)):o&&(K(),ee(o,1,1,(()=>{o=null})),Z())},i(e){s||(G(t.$$.fragment,e),G(o),s=!0)},o(e){ee(t.$$.fragment,e),ee(o),s=!1},d(e){ce(t,e),e&&g(n),o&&o.d(e),e&&g(l)}}}function Jn(e){let t,n,l=e[7].inputs,s=[];for(let t=0;t<l.length;t+=1)s[t]=Yn(Pn(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=y()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);m(e,t,l),n=!0},p(e,n){if(7&n){let i;for(l=e[7].inputs,i=0;i<l.length;i+=1){const o=Pn(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=Yn(o),s[i].c(),G(s[i],1),s[i].m(t.parentNode,t))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(e){v(s,e),e&&g(t)}}}function Vn(e){let t,n;return t=new _n({props:{label:e[7].label,wide:e[7].wide,$$slots:{default:[Jn]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.label=e[7].label),1&n&&(l.wide=e[7].wide),524295&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Xn(e){let t,n,l,s,o,i,c,r,a,u,f,d,p,w,x,k=e[0].label+"",Q=e[0].info+"",_=e[0].buttons,C=[];for(let t=0;t<_.length;t+=1)C[t]=An(In(e,_,t));let S=e[0].class.sections,T=[];for(let t=0;t<S.length;t+=1)T[t]=Vn(Fn(e,S,t));const O=e=>ee(T[e],1,1,(()=>{T[e]=null}));return{c(){t=b("header"),n=b("i"),s=y(),o=b("div"),i=b("div"),c=$(k),r=y(),a=b("div"),u=$(Q),f=y(),d=b("nav");for(let e=0;e<C.length;e+=1)C[e].c();p=y(),w=b("main");for(let e=0;e<T.length;e+=1)T[e].c();M(n,"class",l="icon "+e[0].icon+" Q8nwlse"),M(i,"class","label Q8nwlse"),M(a,"class","info Q8nwlse"),M(d,"class","nav Q8nwlse"),M(t,"class","Q8nwlse"),M(w,"class","Q8nwlse")},m(e,l){m(e,t,l),h(t,n),h(t,s),h(t,o),h(o,i),h(i,c),h(o,r),h(o,a),h(a,u),h(t,f),h(t,d);for(let e=0;e<C.length;e+=1)C[e].m(d,null);m(e,p,l),m(e,w,l);for(let e=0;e<T.length;e+=1)T[e].m(w,null);x=!0},p(e,[t]){if((!x||1&t&&l!==(l="icon "+e[0].icon+" Q8nwlse"))&&M(n,"class",l),(!x||1&t)&&k!==(k=e[0].label+"")&&E(c,k),(!x||1&t)&&Q!==(Q=e[0].info+"")&&E(u,Q),1&t){let n;for(_=e[0].buttons,n=0;n<_.length;n+=1){const l=In(e,_,n);C[n]?C[n].p(l,t):(C[n]=An(l),C[n].c(),C[n].m(d,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=_.length}if(7&t){let n;for(S=e[0].class.sections,n=0;n<S.length;n+=1){const l=Fn(e,S,n);T[n]?(T[n].p(l,t),G(T[n],1)):(T[n]=Vn(l),T[n].c(),G(T[n],1),T[n].m(w,null))}for(K(),n=S.length;n<T.length;n+=1)O(n);Z()}},i(e){if(!x){for(let e=0;e<S.length;e+=1)G(T[e]);x=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)ee(T[e]);x=!1},d(e){e&&g(t),v(C,e),e&&g(p),e&&g(w),v(T,e)}}}function Rn(e,t,n){let l,s,{doc:o}=t,i=o.item;c(e,i,(e=>n(1,l=e)));let r=o.validationErrors;c(e,r,(e=>n(2,s=e))),o.load();return e.$$set=e=>{"doc"in e&&n(0,o=e.doc)},[o,l,s,i,r,e=>e.onClick(o),function(t,n){e.$$.not_equal(l[n.field],t)&&(l[n.field]=t,i.set(l))}]}class Wn{constructor(e,t){this.label=e,this.wide=t,this.inputs=[]}add(...e){return e.forEach((e=>this.inputs.push(e))),this}}class Un extends ft{constructor(){super(...arguments),this.validationErrors=we([]),this._item={id:null},this.item=we(this._item)}get class(){return Object.getPrototypeOf(this).constructor}static create(e,t,n,l,s,o,i,c=(e=>"id: "+e.id)){return Object.assign(class extends(this){},{$idPrefix:e,list:t,icon:n,buttons:s,label:i,sections:o,fetcher:l,info:c})}get label(){return this.class.label(this._item)}get info(){return this.class.info(this._item)}get list(){return this.class.list}get exists(){return"number"==typeof this._item.id}get buttons(){return this.class.buttons}load(){this.class.fetcher.get(this.id).then((e=>{this._item=e,this.item.set(e),this.id=e.id,at.update((e=>e))})).catch((e=>{throw this.close(),e}))}save(){this.validationErrors.set({}),this.class.fetcher.save(this.id,this._item).then((e=>ke.success("Saved successfully"))).then((e=>{this.list.reload(),this.load()})).catch((e=>{throw e instanceof Xt&&e.response.json().then((e=>{let t={};e.forEach((e=>{void 0===t[e.field]&&(t[e.field]=[]),t[e.field].push(e.message)})),this.validationErrors.set(t)})),e}))}delete(){confirm("You are about to delete:\n"+this.label+"\nAre you sure?")&&this.class.fetcher.delete(this.id).then((()=>this.close())).then((()=>this.list.reload()))}static addSection(e,t=!1){let n=new Wn(e,t);return this.sections.push(n),n}static createSection(e,t=!1){return new Wn(e,t)}}Un.component=class extends ae{constructor(e){super(),re(this,e,Rn,Xn,i,{doc:0})}},Un.sections=[];class Kn{constructor(e){this.api=e}get(e,t){return fetch(this.api+e+"/"+t).then(kn)}upload(e,t,n){let l=new FormData;return l.append("file",t),l.append("collection",e),fetch(this.api+"upload/"+n,{method:"POST",body:l}).then(kn)}modify(e,t,n){return fetch(this.api+"modify/"+e,{method:"POST",body:JSON.stringify({filename:t,data:n})}).then(kn)}remove(e,t,n){return fetch(this.api+"delete/"+t,{method:"POST",body:JSON.stringify({filename:n,collection:e})}).then(kn)}order(e,t,n,l){return fetch(this.api+"order/"+e,{method:"POST",body:JSON.stringify({collection:t,index:l,filename:n})}).then(kn)}add(e,t,n,l){return fetch(this.api+"add/"+e,{method:"POST",body:JSON.stringify({collection:t,filename:n,from:l})}).then(kn)}}function Zn(t){let n,l,s;return{c(){n=b("input"),M(n,"type","text"),M(n,"class","Qecdhov")},m(e,o){m(e,n,o),_(n,t[0]),l||(s=x(n,"input",t[2]),l=!0)},p(e,[t]){1&t&&n.value!==e[0]&&_(n,e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s()}}}function Gn(e,t,n){let{value:l=""}=t,{name:s=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"name"in e&&n(1,s=e.name)},[l,s,function(){l=this.value,n(0,l)}]}class el{constructor(e,t=null){this.field=e,this.label=t,this.properties={},this.inlineLabel=!0,this.label=null!==this.label?this.label:this.field}get compact(){return this.inlineLabel=!0,this}get wide(){return this.inlineLabel=!1,this}get component(){return Object.getPrototypeOf(this).constructor.component}addHint(e){return this.hint=e,this}}class tl extends el{}function nl(t){let n,l,s;return{c(){n=b("input"),M(n,"type","checkbox"),M(n,"class","Q91bogf")},m(e,o){m(e,n,o),n.checked=t[0],l||(s=x(n,"change",t[2]),l=!0)},p(e,[t]){1&t&&(n.checked=e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s()}}}function ll(e,t,n){let{value:l=!1}=t,{name:s=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"name"in e&&n(1,s=e.name)},[l,s,function(){l=this.checked,n(0,l)}]}tl.component=class extends ae{constructor(e){super(),re(this,e,Gn,Zn,i,{value:0,name:1})}};class sl extends el{inline(){}}function ol(t){let n,l,o;return{c(){n=b("input"),M(n,"type","text"),M(n,"class","Qecdhov")},m(e,s){m(e,n,s),_(n,t[0]),l||(o=[x(n,"input",t[3]),x(n,"input",t[1])],l=!0)},p(e,[t]){1&t&&n.value!==e[0]&&_(n,e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s(o)}}}function il(e,t,n){let{name:l=""}=t,{value:s="0"}=t,o=s;return e.$$set=e=>{"name"in e&&n(2,l=e.name),"value"in e&&n(0,s=e.value)},[s,function(){if(""===s)return n(0,s="0");if("0-"===s||"-"===s)return n(0,s="-0");let e=parseInt(s);isNaN(e)?n(0,s=o):n(0,s=e.toString()),o=s},l,function(){s=this.value,n(0,s)}]}sl.component=class extends ae{constructor(e){super(),re(this,e,ll,nl,i,{value:0,name:1})}};class cl extends el{}function rl(t){let n,l,o;return{c(){n=b("input"),M(n,"type","text"),M(n,"class","Qecdhov")},m(e,s){m(e,n,s),_(n,t[0]),l||(o=[x(n,"input",t[3]),x(n,"input",t[1])],l=!0)},p(e,[t]){1&t&&n.value!==e[0]&&_(n,e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s(o)}}}function al(e,t,n){let{name:l=""}=t,{value:s="0"}=t,o=s;return e.$$set=e=>{"name"in e&&n(2,l=e.name),"value"in e&&n(0,s=e.value)},[s,function(){if(""===s)return n(0,s="0");if("0-"===s||"-"===s)return n(0,s="-0");let e=parseFloat(s);isNaN(e)?n(0,s=o):n(0,s=e.toString()),Math.ceil(e)===e&&n(0,s+=".0"),o=s},l,function(){s=this.value,n(0,s)}]}cl.component=class extends ae{constructor(e){super(),re(this,e,il,ol,i,{name:2,value:0})}};class ul extends el{}function fl(e,t,n){const l=e.slice();return l[5]=t[n],l}function dl(e){let t,n,l,s,o,i,c,r,a=e[5].label+"";return{c(){t=b("label"),n=b("input"),o=y(),i=$(a),M(n,"type","checkbox"),n.value=l=e[5].value,n.checked=s=e[0].indexOf(e[5].value)>=0,M(n,"class","Q11xkb35"),M(t,"class","Q11xkb35")},m(l,s){m(l,t,s),h(t,n),h(t,o),h(t,i),c||(r=x(n,"change",e[3]),c=!0)},p(e,t){2&t&&l!==(l=e[5].value)&&(n.value=l),3&t&&s!==(s=e[0].indexOf(e[5].value)>=0)&&(n.checked=s),2&t&&a!==(a=e[5].label+"")&&E(i,a)},d(e){e&&g(t),c=!1,r()}}}function pl(t){let n,l=t[1],s=[];for(let e=0;e<l.length;e+=1)s[e]=dl(fl(t,l,e));return{c(){n=b("main");for(let e=0;e<s.length;e+=1)s[e].c();M(n,"class","Q11xkb35"),O(n,"inline",t[2])},m(e,t){m(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(11&t){let o;for(l=e[1],o=0;o<l.length;o+=1){const i=fl(e,l,o);s[o]?s[o].p(i,t):(s[o]=dl(i),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}4&t&&O(n,"inline",e[2])},i:e,o:e,d(e){e&&g(n),v(s,e)}}}function hl(e,t,n){let{value:l=[]}=t,{options:s=[]}=t,{inline:o}=t,{name:i=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"options"in e&&n(1,s=e.options),"inline"in e&&n(2,o=e.inline),"name"in e&&n(4,i=e.name)},[l,s,o,function(e){let t=e.target.value,n=l.indexOf(t);-1===n?l.push(t):l.splice(n,1)},i]}ul.component=class extends ae{constructor(e){super(),re(this,e,al,rl,i,{name:2,value:0})}};class ml extends el{constructor(){super(...arguments),this.props={options:[],inline:!1}}get inline(){return this.props.inline=!0,this}options(e){let t=[];if(e instanceof Array)e.forEach((e=>{"string"==typeof e?t.push({value:e,label:e}):void 0!==e.label&&void 0!==e.value?t.push({value:e.value,label:e.label}):t.push({value:Object.keys(e)[0],label:e[Object.keys(e)[0]]})}));else{Object.keys(e).forEach((n=>t.push({value:n,label:e[n]})))}return this.props.options=t,this}}function gl(e,t,n){const l=e.slice();return l[5]=t[n],l}function vl(e){let t,n,l,s,o,i,c,r,a=e[5].label+"";return{c(){t=b("label"),n=b("input"),o=y(),i=$(a),M(n,"name",e[2]),M(n,"type","radio"),n.value=l=e[5].value,n.checked=s=e[5].value===e[0],M(n,"class","Qf4zgwr"),M(t,"class","Qf4zgwr")},m(l,s){m(l,t,s),h(t,n),h(t,o),h(t,i),c||(r=x(n,"input",e[3]),c=!0)},p(e,t){4&t&&M(n,"name",e[2]),2&t&&l!==(l=e[5].value)&&(n.value=l),3&t&&s!==(s=e[5].value===e[0])&&(n.checked=s),2&t&&a!==(a=e[5].label+"")&&E(i,a)},d(e){e&&g(t),c=!1,r()}}}function bl(t){let n,l=t[1],s=[];for(let e=0;e<l.length;e+=1)s[e]=vl(gl(t,l,e));return{c(){n=b("main");for(let e=0;e<s.length;e+=1)s[e].c();M(n,"class","Qf4zgwr")},m(e,t){m(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(15&t){let o;for(l=e[1],o=0;o<l.length;o+=1){const i=gl(e,l,o);s[o]?s[o].p(i,t):(s[o]=vl(i),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&g(n),v(s,e)}}}function $l(e,t,n){let{value:l=""}=t,{options:s=[]}=t,{inline:o}=t,{name:i=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"options"in e&&n(1,s=e.options),"inline"in e&&n(4,o=e.inline),"name"in e&&n(2,i=e.name)},[l,s,i,function(e){n(0,l=e.target.value)},o]}ml.component=class extends ae{constructor(e){super(),re(this,e,hl,pl,i,{value:0,options:1,inline:2,name:4})}};class yl extends el{constructor(){super(...arguments),this.props={options:[],inline:!1}}get inline(){return this.props.inline=!0,this}options(e){let t=[];if(e instanceof Array)e.forEach((e=>{"string"==typeof e?t.push({value:e,label:e}):void 0!==e.label&&void 0!==e.value?t.push({value:e.value,label:e.label}):t.push({value:Object.keys(e)[0],label:e[Object.keys(e)[0]]})}));else{Object.keys(e).forEach((n=>t.push({value:n,label:e[n]})))}return this.props.options=t,this}}function wl(e,t,n){const l=e.slice();return l[5]=t[n],l}function xl(e){let t,n,l,s=e[5].label+"";return{c(){t=b("option"),n=$(s),t.__value=l=e[5].value,t.value=t.__value},m(e,l){m(e,t,l),h(t,n)},p(e,o){2&o&&s!==(s=e[5].label+"")&&E(n,s),2&o&&l!==(l=e[5].value)&&(t.__value=l,t.value=t.__value)},d(e){e&&g(t)}}}function kl(t){let n,l,s,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=xl(wl(t,o,e));return{c(){n=b("select");for(let e=0;e<i.length;e+=1)i[e].c();M(n,"name",t[2]),M(n,"class","Q34nr8x"),void 0===t[0]&&Y((()=>t[3].call(n)))},m(e,o){m(e,n,o);for(let e=0;e<i.length;e+=1)i[e].m(n,null);S(n,t[0]),l||(s=x(n,"change",t[3]),l=!0)},p(e,[t]){if(2&t){let l;for(o=e[1],l=0;l<o.length;l+=1){const s=wl(e,o,l);i[l]?i[l].p(s,t):(i[l]=xl(s),i[l].c(),i[l].m(n,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}4&t&&M(n,"name",e[2]),3&t&&S(n,e[0])},i:e,o:e,d(e){e&&g(n),v(i,e),l=!1,s()}}}function Ql(e,t,n){let{value:l=""}=t,{options:s=[]}=t,{name:o=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"options"in e&&n(1,s=e.options),"name"in e&&n(2,o=e.name)},[l,s,o,function(){l=T(this),n(0,l),n(1,s)}]}yl.component=class extends ae{constructor(e){super(),re(this,e,$l,bl,i,{value:0,options:1,inline:4,name:2})}};class Ml extends el{constructor(){super(...arguments),this.props={options:[]}}options(e){let t=[];if(e instanceof Array)e.forEach((e=>{"string"==typeof e?t.push({value:e,label:e}):void 0!==e.label&&void 0!==e.value?t.push({value:e.value,label:e.label}):t.push({value:Object.keys(e)[0],label:e[Object.keys(e)[0]]})}));else{Object.keys(e).forEach((n=>t.push({value:n,label:e[n]})))}return this.props.options=t,this}}function El(t){let n,l,o,i;return{c(){n=b("div"),l=b("textarea"),M(l,"class","Q1tywl61"),O(l,"code",t[1]),M(n,"data-replicated-value",t[0]),M(n,"class","Q1tywl61"),O(n,"growing",!0),O(n,"code",t[1])},m(e,s){m(e,n,s),h(n,l),_(l,t[0]),o||(i=[x(l,"keydown",_l),x(l,"input",t[3])],o=!0)},p(e,[t]){1&t&&_(l,e[0]),2&t&&O(l,"code",e[1]),1&t&&M(n,"data-replicated-value",e[0]),2&t&&O(n,"code",e[1])},i:e,o:e,d(e){e&&g(n),o=!1,s(i)}}}function _l(e){let t=e.target;if(9===e.keyCode){let n=t.value,l=t.selectionStart,s=t.selectionEnd;t.value=n.substring(0,l)+"\t"+n.substring(s),t.selectionStart=t.selectionEnd=l+1,e.preventDefault()}}function Cl(e,t,n){let{value:l=""}=t,{name:s=""}=t,{code:o=!1}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"name"in e&&n(2,s=e.name),"code"in e&&n(1,o=e.code)},[l,o,s,function(){l=this.value,n(0,l)}]}Ml.component=class extends ae{constructor(e){super(),re(this,e,Ql,kl,i,{value:0,options:1,name:2})}};class Sl extends el{constructor(){super(...arguments),this.props={code:!1}}get code(){return this.props.code=!0,this}}function Tl(t){let n,l,o,i,c;return{c(){n=b("input"),l=y(),o=b("input"),M(n,"type","text"),M(n,"maxlength","7"),M(n,"minlength","7"),M(n,"class","Q1npq0or"),M(o,"type","color"),M(o,"class","Q1npq0or")},m(e,s){m(e,n,s),_(n,t[0]),m(e,l,s),m(e,o,s),_(o,t[0]),i||(c=[x(n,"input",t[2]),x(o,"input",t[3])],i=!0)},p(e,[t]){1&t&&n.value!==e[0]&&_(n,e[0]),1&t&&_(o,e[0])},i:e,o:e,d(e){e&&g(n),e&&g(l),e&&g(o),i=!1,s(c)}}}function Ol(e,t,n){let{value:l=""}=t,{name:s=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"name"in e&&n(1,s=e.name)},[l,s,function(){l=this.value,n(0,l)},function(){l=this.value,n(0,l)}]}Sl.component=class extends ae{constructor(e){super(),re(this,e,Cl,El,i,{value:0,name:2,code:1})}};class zl extends el{}function jl(t){let n,l,s;return{c(){n=b("input"),M(n,"type","time"),M(n,"class","Qecdhov")},m(e,o){m(e,n,o),_(n,t[0]),l||(s=x(n,"input",t[2]),l=!0)},p(e,[t]){1&t&&_(n,e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s()}}}function Ll(e,t,n){let{value:l=""}=t,{name:s=""}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"name"in e&&n(1,s=e.name)},[l,s,function(){l=this.value,n(0,l)}]}zl.component=class extends ae{constructor(e){super(),re(this,e,Ol,Tl,i,{value:0,name:1})}};class Nl extends el{}function Fl(t){let n,l,o;return{c(){n=b("input"),M(n,"type","datetime-local"),M(n,"class","Qecdhov")},m(e,s){m(e,n,s),_(n,t[0]),l||(o=[x(n,"input",t[1]),x(n,"input",t[4])],l=!0)},p(e,[t]){1&t&&_(n,e[0])},i:e,o:e,d(e){e&&g(n),l=!1,s(o)}}}function Pl(e,t=!1,n=!1){if(""===e||null===e)return null;if(e instanceof Date||(e=new Date(e)),isNaN(e))return null;let l;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+(t?"T":" ")+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+(n?(l=(new Date).getTimezoneOffset())?(l>0?"-":"+")+("0"+Math.floor(Math.abs(l)/60)).slice(-2)+":"+("0"+Math.floor(Math.abs(l)%60)).slice(-2):"Z":"")}function Bl(e,t,n){let l,{value:s=""}=t,{name:o=""}=t;return e.$$set=e=>{"value"in e&&n(2,s=e.value),"name"in e&&n(3,o=e.name)},e.$$.update=()=>{4&e.$$.dirty&&n(0,l=Pl(s,!0))},[l,function(e){let t=e.target.value;n(2,s=Pl(t,!0,!0)),console.log(s)},s,o,function(){l=this.value,n(0,l),n(2,s)}]}Nl.component=class extends ae{constructor(e){super(),re(this,e,Ll,jl,i,{value:0,name:1})}};class Il extends el{}function Al(e,t,n){const l=e.slice();return l[15]=t[n],l}function Dl(e,t,n){const l=e.slice();return l[18]=t[n],l}function ql(e){let t,n,l,s,o=e[18].value+"";function i(){return e[11](e[18])}return{c(){t=b("div"),n=$(o),M(t,"class","Q1y396tp")},m(e,o){m(e,t,o),h(t,n),l||(s=x(t,"click",i),l=!0)},p(t,l){e=t,4&l&&o!==(o=e[18].value+"")&&E(n,o)},d(e){e&&g(t),l=!1,s()}}}function Hl(e){let t,n=e[1],l=[];for(let t=0;t<n.length;t+=1)l[t]=Jl(Al(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);m(e,t,n)},p(e,s){if(99&s){let o;for(n=e[1],o=0;o<n.length;o+=1){const i=Al(e,n,o);l[o]?l[o].p(i,s):(l[o]=Jl(i),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){v(l,e),e&&g(t)}}}function Yl(e){let t,n,l;function s(){return e[13](e[15])}return{c(){t=b("i"),M(t,"class","open fas fa-external-link Q1y396tp")},m(e,o){m(e,t,o),n||(l=x(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&g(t),n=!1,l()}}}function Jl(e){let t,n,l,s,o,i,c,r,a,u,f,d,p=e[15].value+"",v=e[15].id+"";function w(){return e[12](e[15])}let k=e[0]&&Yl(e);return{c(){t=b("span"),n=b("i"),l=y(),s=b("span"),o=$(p),i=$(" ("),c=$(v),r=$(")"),a=y(),k&&k.c(),u=y(),M(n,"class","remove fas fa-times Q1y396tp"),M(s,"class","Q1y396tp"),M(t,"class","Q1y396tp")},m(e,p){m(e,t,p),h(t,n),h(t,l),h(t,s),h(s,o),h(s,i),h(s,c),h(s,r),h(t,a),k&&k.m(t,null),h(t,u),f||(d=x(n,"click",w),f=!0)},p(n,l){e=n,2&l&&p!==(p=e[15].value+"")&&E(o,p),2&l&&v!==(v=e[15].id+"")&&E(c,v),e[0]?k?k.p(e,l):(k=Yl(e),k.c(),k.m(t,u)):k&&(k.d(1),k=null)},d(e){e&&g(t),k&&k.d(),f=!1,d()}}}function Vl(t){let n,l,s,o,i,c,r,a,u=t[2],f=[];for(let e=0;e<u.length;e+=1)f[e]=ql(Dl(t,u,e));let d=null!==t[1]&&Hl(t);return{c(){n=b("main"),l=b("input"),s=y(),o=b("div");for(let e=0;e<f.length;e+=1)f[e].c();i=y(),c=b("div"),d&&d.c(),M(l,"type","text"),M(l,"placeholder","search"),M(l,"class","Q1y396tp"),M(o,"class","options Q1y396tp"),M(c,"class","values Q1y396tp"),M(n,"class","Q1y396tp")},m(e,u){m(e,n,u),h(n,l),h(n,s),h(n,o);for(let e=0;e<f.length;e+=1)f[e].m(o,null);h(n,i),h(n,c),d&&d.m(c,null),r||(a=x(l,"input",t[3]),r=!0)},p(e,[t]){if(20&t){let n;for(u=e[2],n=0;n<u.length;n+=1){const l=Dl(e,u,n);f[n]?f[n].p(l,t):(f[n]=ql(l),f[n].c(),f[n].m(o,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}null!==e[1]?d?d.p(e,t):(d=Hl(e),d.c(),d.m(c,null)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&g(n),v(f,e),d&&d.d(),r=!1,a()}}}function Xl(e,t,n){let{value:l=""}=t,{api:s=""}=t,{name:o=""}=t,{Form:i=null}=t,{multi:c=!1}=t,r=[],a="",u=[];function f(e){c?(l instanceof Array||n(7,l=[]),n(7,l=[...new Set([...l,e])])):n(7,l=e)}function d(e){if(c){var t=l.indexOf(e);-1!==t&&l.splice(t,1),n(7,l=[...l])}else n(7,l="")}function p(e){i.open(e)}N((()=>{null===l&&n(7,l=[]),l!==a&&(0===l.length?n(1,r=[]):fetch(s+"/get/"+l).then((e=>e.json().then((e=>n(1,r=e))))),a=l)}));return e.$$set=e=>{"value"in e&&n(7,l=e.value),"api"in e&&n(8,s=e.api),"name"in e&&n(9,o=e.name),"Form"in e&&n(0,i=e.Form),"multi"in e&&n(10,c=e.multi)},[i,r,u,function(e){e.target.value.trim().length>=3?fetch(s+"/search/"+e.target.value).then((e=>e.json())).then((e=>n(2,u=e))):n(2,u=[])},f,d,p,l,s,o,c,e=>f(e.id),e=>d(e.id),e=>p(e.id)]}Il.component=class extends ae{constructor(e){super(),re(this,e,Bl,Fl,i,{value:2,name:3})}};class Rl extends el{constructor(){super(...arguments),this.props={api:"",multi:!1,Form:null}}api(e){return this.props.api=e,this}form(e){return this.props.Form=e,this}get multi(){return this.props.multi=!0,this}}function Wl(t){let n,l,s,o;return{c(){n=b("button"),l=$(t[0]),M(n,"class","Q6zjvl8")},m(e,i){m(e,n,i),h(n,l),s||(o=x(n,"click",t[1]),s=!0)},p(e,[t]){1&t&&E(l,e[0])},i:e,o:e,d(e){e&&g(n),s=!1,o()}}}function Ul(e,t,n){let{value:l=""}=t,{name:s=""}=t,{Editor:o=null}=t,{buttonText:i="Open"}=t;function c(e){n(2,l=e)}return e.$$set=e=>{"value"in e&&n(2,l=e.value),"name"in e&&n(3,s=e.name),"Editor"in e&&n(4,o=e.Editor),"buttonText"in e&&n(0,i=e.buttonText)},[i,function(){Bt.show(o,{value:l,save:c})},l,s,o]}Rl.component=class extends ae{constructor(e){super(),re(this,e,Xl,Vl,i,{value:7,api:8,name:9,Form:0,multi:10})}};class Kl extends el{constructor(){super(...arguments),this.props={Editor:null,buttonText:"Open Editor"}}editor(e){return this.props.Editor=e,this}buttonText(e){return this.props.buttonText=e,this}}function Zl(e,t,n){const l=e.slice();return l[8]=t[n],l}function Gl(e){let t,n=e[0],l=[];for(let t=0;t<n.length;t+=1)l[t]=es(Zl(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);m(e,t,n)},p(e,s){if(3&s){let o;for(n=e[0],o=0;o<n.length;o+=1){const i=Zl(e,n,o);l[o]?l[o].p(i,s):(l[o]=es(i),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){v(l,e),e&&g(t)}}}function es(e){let t,n,l,s,o,i,c,r,a,u,f,d,p=e[8].value+"",v=e[8].id+"";function w(){return e[6](e[8])}return{c(){t=b("span"),n=$(p),l=y(),s=b("i"),o=$("("),i=$(v),c=$(")"),r=y(),a=b("i"),u=y(),M(s,"class","Q10d2l6t"),M(a,"class","open fas fa-external-link Q10d2l6t"),M(t,"class","Q10d2l6t")},m(e,p){m(e,t,p),h(t,n),h(t,l),h(t,s),h(s,o),h(s,i),h(s,c),h(t,r),h(t,a),h(t,u),f||(d=x(t,"click",w),f=!0)},p(t,l){e=t,1&l&&p!==(p=e[8].value+"")&&E(n,p),1&l&&v!==(v=e[8].id+"")&&E(i,v)},d(e){e&&g(t),f=!1,d()}}}function ts(t){let n,l,s=t[0]&&Gl(t);return{c(){n=b("main"),l=b("div"),s&&s.c(),M(l,"class","values Q10d2l6t"),M(n,"class","Q10d2l6t")},m(e,t){m(e,n,t),h(n,l),s&&s.m(l,null)},p(e,[t]){e[0]?s?s.p(e,t):(s=Gl(e),s.c(),s.m(l,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&g(n),s&&s.d()}}}function ns(e,t,n){let{value:l=""}=t,{api:s=""}=t,{name:o=""}=t,{Form:i=null}=t,c=[],r="";function a(e){i.open(e)}N((()=>{l!==r&&(0===l.length?n(0,c=[]):fetch(s+"/get/"+l).then((e=>e.json().then((e=>n(0,c=e))))),r=l)}));return e.$$set=e=>{"value"in e&&n(2,l=e.value),"api"in e&&n(3,s=e.api),"name"in e&&n(4,o=e.name),"Form"in e&&n(5,i=e.Form)},[c,a,l,s,o,i,e=>a(e.id)]}Kl.component=class extends ae{constructor(e){super(),re(this,e,Ul,Wl,i,{value:2,name:3,Editor:4,buttonText:0})}};class ls extends el{constructor(){super(...arguments),this.props={api:"",Form:null}}api(e){return this.props.api=e,this}form(e){return this.props.Form=e,this}}ls.component=class extends ae{constructor(e){super(),re(this,e,ns,ts,i,{value:2,api:3,name:4,Form:5})}};class ss{static create(e,t,n,l,s,o,i=(e=>"id: "+e.id)){return Object.assign(class extends Un{},{$idPrefix:e,list:t,icon:n,buttons:s,label:o,fetcher:l,info:i,sections:[]})}}ss.Doc=Un,ss.Fetcher=class{constructor(e){this.api=e,this.api=this.api+"/",this.attachment=new Kn(this.api+"attachments/")}get(e){return fetch(this.api+(null!==e?e:"blank")).then(kn)}save(e,t){return fetch(this.api+(null!==e?e:"new"),{method:"POST",body:JSON.stringify({item:t})}).then(kn)}delete(e){return fetch(this.api+e,{method:"DELETE"}).then(kn)}},ss.Section=Wn,ss.inputs=class{static string(e,t=null){return new tl(e,t)}static checkbox(e,t=null){return new sl(e,t)}static checkboxes(e,t=null){return new ml(e,t)}static integer(e,t=null){return new cl(e,t)}static float(e,t=null){return new ul(e,t)}static radio(e,t=null){return new yl(e,t)}static time(e,t=null){return new Nl(e,t)}static select(e,t=null){return new Ml(e,t)}static text(e,t=null){return new Sl(e,t)}static color(e,t=null){return new zl(e,t)}static date(e,t=null){return new Il(e,t)}static datetime(e,t=null){return new Il(e,t)}static selector(e,t=null){return new Rl(e,t)}static editor(e,t=null){return new Kl(e,t)}static related(e,t=null){return new ls(e,t)}};class os{constructor(e,t,n,l=(e=>!0)){this.icon=e,this.label=t,this.onClick=n,this.active=l}}const is=e=>({}),cs=e=>({}),rs=e=>({}),as=e=>({});function us(e){let t,n,l,s,o,i,c,a,f,d,p;const v=e[7].nav,w=r(v,e,e[9],as),x=e[7].default,k=r(x,e,e[9],null),Q=e[7].footer,_=r(Q,e,e[9],cs);return{c(){t=b("main"),n=b("header"),l=b("i"),s=y(),o=b("div"),i=$(e[1]),c=y(),w&&w.c(),a=y(),f=b("section"),k&&k.c(),d=y(),_&&_.c(),M(l,"class",e[0]),M(t,"class","modalify"),O(t,"big",e[2]),O(t,"full",e[3]),O(t,"rounded",e[4])},m(r,u){m(r,t,u),h(t,n),h(n,l),h(n,s),h(n,o),h(o,i),h(n,c),w&&w.m(n,null),h(t,a),h(t,f),k&&k.m(f,null),h(t,d),_&&_.m(t,null),e[8](t),p=!0},p(e,n){(!p||1&n)&&M(l,"class",e[0]),(!p||2&n)&&E(i,e[1]),w&&w.p&&512&n&&u(w,v,e,e[9],n,rs,as),k&&k.p&&512&n&&u(k,x,e,e[9],n,null,null),_&&_.p&&512&n&&u(_,Q,e,e[9],n,is,cs),4&n&&O(t,"big",e[2]),8&n&&O(t,"full",e[3]),16&n&&O(t,"rounded",e[4])},i(e){p||(G(w,e),G(k,e),G(_,e),p=!0)},o(e){ee(w,e),ee(k,e),ee(_,e),p=!1},d(n){n&&g(t),w&&w.d(n),k&&k.d(n),_&&_.d(n),e[8](null)}}}function fs(e){let t,n;return t=new $e({props:{icon:!1,$$slots:{default:[us]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,[n]){const l={};575&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function ds(e,t,n){let l,{$$slots:s={},$$scope:o}=t,{icon:i="inverse fad fa-atom"}=t,{title:c="Magic"}=t,{big:r=!1}=t,{full:a=!1}=t,{rounded:u=!1}=t;return e.$$set=e=>{"icon"in e&&n(0,i=e.icon),"title"in e&&n(1,c=e.title),"big"in e&&n(2,r=e.big),"full"in e&&n(3,a=e.full),"rounded"in e&&n(4,u=e.rounded),"$$scope"in e&&n(9,o=e.$$scope)},[i,c,r,a,u,l,function(e=800){return console.log("CALLED"),new Promise((t=>{l.classList.add("shake"),setTimeout((()=>{l.classList.remove("shake"),t(this)}),e)}))},s,function(e){B[e?"unshift":"push"]((()=>{l=e,n(5,l)}))},o]}class ps extends ae{constructor(e){super(),re(this,e,ds,fs,i,{icon:0,title:1,big:2,full:3,rounded:4,shake:6})}get shake(){return this.$$.ctx[6]}}function hs(e){let t,n,l,s,o;return{c(){t=$(e[1]),n=y(),l=b("textarea")},m(i,c){m(i,t,c),m(i,n,c),m(i,l,c),_(l,e[0]),s||(o=x(l,"input",e[8]),s=!0)},p(e,n){2&n&&E(t,e[1]),1&n&&_(l,e[0])},d(e){e&&g(t),e&&g(n),e&&g(l),s=!1,o()}}}function ms(t){let n,l,o,i,c,r;return{c(){n=b("nav"),l=b("button"),l.innerHTML='<i class="fas fa-times"></i>',o=y(),i=b("button"),i.innerHTML='<i class="fad fa-save"></i>',M(n,"slot","nav")},m(e,s){m(e,n,s),h(n,l),h(n,o),h(n,i),c||(r=[x(l,"click",t[6]),x(i,"click",t[7])],c=!0)},p:e,d(e){e&&g(n),c=!1,s(r)}}}function gs(t){let n,l,s,o,i,c;return{c(){n=b("footer"),l=b("button"),l.textContent="Most inkább asd!",s=y(),o=b("button"),o.textContent="Elfogadom a felhasználási feltételeket!",M(l,"class","primary"),M(o,"class","success"),M(n,"slot","footer")},m(e,r){m(e,n,r),h(n,l),h(n,s),h(n,o),i||(c=x(l,"click",t[5]),i=!0)},p:e,d(e){e&&g(n),i=!1,c()}}}function vs(e){let t,n;return t=new ps({props:{icon:"inverse fad fa-file-edit",title:"Edit content",big:!0,$$slots:{footer:[gs],nav:[ms],default:[hs]},$$scope:{ctx:e}}}),e[9](t),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,[n]){const l={};1055&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(n){e[9](null),ce(t,n)}}}function bs(e,t,n){let l,{value:s=""}=t,{name:o=""}=t,{close:i=(()=>console.log("close"))}=t,{save:c=(()=>console.log("save"))}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"name"in e&&n(1,o=e.name),"close"in e&&n(2,i=e.close),"save"in e&&n(3,c=e.save)},[s,o,i,c,l,()=>l.shake(),()=>i(),()=>{c(s),i()},function(){s=this.value,n(0,s)},function(e){B[e?"unshift":"push"]((()=>{l=e,n(4,l)}))}]}var $s=he((function(e,t){t.__esModule=!0,t.b=1,t.kb=1024,t.mb=t.kb*t.kb,t.gb=t.mb*t.kb,t.tb=t.gb*t.kb,t.pb=t.tb*t.kb,t.eb=t.pb*t.kb,t.zb=t.eb*t.kb,t.yb=t.zb*t.kb,t.units={b:t.b,kb:t.kb,mb:t.mb,gb:t.gb,tb:t.tb,pb:t.pb,eb:t.eb,zb:t.zb,yb:t.yb},t.parseFormat=/^((-|\+)?(\d+(?:\.\d+)?)) *(b|kb|mb|gb|tb|pb|eb|zb|yb)$/i,t.parseThousand=/\B(?=(\d{3})+(?!\d))/g})),ys=Object.defineProperty({formatToObject:function(e){var t=$s.parseFormat.exec(e);return{unit:t&&t[4],size:t&&parseFloat(t[1]),format:t&&t[0]}}},"__esModule",{value:!0}),ws=Object.defineProperty({toString:function(e,t){var n=void 0===t?{}:t,l=n.decimals,s=n.separator,o=void 0===s?"":s,i=n.everyThousand,c=void 0===i?"":i,r="B",a=e;return e>=0&&e<$s.kb?r="B":e>=$s.kb&&e<$s.mb?r="KB":e>=$s.mb&&e<$s.gb?r="MB":e>=$s.gb&&e<$s.tb?r="GB":e>=$s.tb&&e<$s.pb?r="TB":e>=$s.pb&&e<$s.eb?r="PB":e>=$s.eb&&e<$s.zb?r="EB":e>=$s.zb&&e<$s.yb?r="ZB":e>=$s.yb&&(r="YB"),a=e/$s.units[r.toLowerCase()],void 0!==l&&(a=a.toFixed(l)),a=""+a+o+r,""!==c&&(a=a.replace($s.parseThousand,c)),a}},"__esModule",{value:!0}),xs=Object.defineProperty({toNumber:function(e){if(!isNaN(Number(e)))return Number(e);var t=ys.formatToObject(e);return t.unit&&t.size?$s.units[t.unit.toLowerCase()]*t.size:null}},"__esModule",{value:!0}),ks=Object.defineProperty({cbytes:function(e,t){return"number"==typeof e?ws.toString(e,t):"string"==typeof e?xs.toNumber(e):void 0}},"__esModule",{value:!0}),Qs=Object.defineProperty({sizeToObject:function(e){var t=ks.cbytes(e);return ys.formatToObject(t)}},"__esModule",{value:!0}),Ms=Object.defineProperty({objectToFormat:function(e,t){var n=(void 0===t?{separator:""}:t).separator;return e.format&&e.size+n+e.unit}},"__esModule",{value:!0}),Es=ks.cbytes,_s=ks.cbytes,Cs=ws.toString,Ss=xs.toNumber,Ts=Ms.objectToFormat,Os=ys.formatToObject,zs=Qs.sizeToObject;function js(e){let t,n,l,o,i,c,r,a,u,f,d,p,v,$,w,k,Q,E,_,C,S,T;return{c(){t=b("main"),n=b("div"),l=b("img"),i=y(),c=b("img"),u=y(),f=b("div"),p=y(),v=b("div"),w=y(),k=b("div"),E=y(),_=b("div"),M(l,"alt",""),M(l,"draggable","false"),M(l,"class","back Q13d6rkl"),l.src!==(o=e[0].url)&&M(l,"src",o),M(c,"alt",""),M(c,"style",r="clip: rect("+e[2].y+"px, "+(e[2].x+e[2].width)+"px, "+(e[2].y+e[2].height)+"px, "+e[2].x+"px)"),M(c,"draggable","false"),M(c,"class","front Q13d6rkl"),c.src!==(a=e[0].url)&&M(c,"src",a),M(f,"class","frame Q13d6rkl"),M(f,"style",d="top:"+e[2].y+"px;width:"+e[2].width+"px;height:"+e[2].height+"px;left:"+e[2].x+"px;"),M(v,"class","topleft Q13d6rkl"),M(v,"style",$="top:"+(e[2].y-5)+"px;left:"+(e[2].x-5)+"px;"),M(k,"class","bottomright Q13d6rkl"),M(k,"style",Q="top:"+(e[2].y+e[2].height-5)+"px;left:"+(e[2].x+e[2].width-5)+"px;"),M(_,"class","focus Q13d6rkl"),M(_,"style",C="top:"+(e[3].y-5)+"px;left:"+(e[3].x-5)+"px;"),M(n,"class","container Q13d6rkl"),M(t,"class","Q13d6rkl")},m(s,o){m(s,t,o),h(t,n),h(n,l),h(n,i),h(n,c),h(n,u),h(n,f),h(n,p),h(n,v),e[18](v),h(n,w),h(n,k),e[21](k),h(n,E),h(n,_),e[24](_),e[25](n),S||(T=[x(l,"load",e[12]),x(v,"mousedown",e[16]),x(v,"mouseup",e[17]),x(k,"mousedown",e[19]),x(k,"mouseup",e[20]),x(_,"mousedown",e[22]),x(_,"mouseup",e[23]),x(n,"mousemove",e[10])],S=!0)},p(e,t){1&t&&l.src!==(o=e[0].url)&&M(l,"src",o),4&t&&r!==(r="clip: rect("+e[2].y+"px, "+(e[2].x+e[2].width)+"px, "+(e[2].y+e[2].height)+"px, "+e[2].x+"px)")&&M(c,"style",r),1&t&&c.src!==(a=e[0].url)&&M(c,"src",a),4&t&&d!==(d="top:"+e[2].y+"px;width:"+e[2].width+"px;height:"+e[2].height+"px;left:"+e[2].x+"px;")&&M(f,"style",d),4&t&&$!==($="top:"+(e[2].y-5)+"px;left:"+(e[2].x-5)+"px;")&&M(v,"style",$),4&t&&Q!==(Q="top:"+(e[2].y+e[2].height-5)+"px;left:"+(e[2].x+e[2].width-5)+"px;")&&M(k,"style",Q),8&t&&C!==(C="top:"+(e[3].y-5)+"px;left:"+(e[3].x-5)+"px;")&&M(_,"style",C)},d(n){n&&g(t),e[18](null),e[21](null),e[24](null),e[25](null),S=!1,s(T)}}}function Ls(t){let n,l,o,i,c,r;return{c(){n=b("nav"),l=b("button"),l.innerHTML='<i class="fas fa-crosshairs"></i>',o=y(),i=b("button"),i.innerHTML='<i class="fas fa-times"></i>',M(n,"slot","nav")},m(e,s){m(e,n,s),h(n,l),h(n,o),h(n,i),c||(r=[x(l,"click",t[9]),x(i,"click",t[11])],c=!0)},p:e,d(e){e&&g(n),c=!1,s(r)}}}function Ns(e){let t,n;return t=new ps({props:{icon:"inverse fad fa-image",title:"Edit image focus",$$slots:{nav:[Ls],default:[js]},$$scope:{ctx:e}}}),e[26](t),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,[n]){const l={};268435965&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(n){e[26](null),ce(t,n)}}}function Fs(e,t,n){let l,s,o,{close:i}=t,{doc:c}=t,{file:r={}}=t,{reload:a=null}=t;if(null===r.safezone)s={x:10,y:10,width:r.width-20,height:r.height-20};else{let e=r.safezone,t=e.length/4;s={x:parseInt(e.substr(0,t),36),y:parseInt(e.substr(t,t),36),width:parseInt(e.substr(2*t,t),36),height:parseInt(e.substr(3*t,t),36)}}if(null===r.focus)o={x:Math.ceil(r.width/2),y:Math.ceil(r.height/2)};else{let e=r.focus,t=e.length/2;o={x:parseInt(e.substr(0,t),36),y:parseInt(e.substr(t,t),36)}}let u,f,d,p,h=1,m=null;return e.$$set=e=>{"close"in e&&n(13,i=e.close),"doc"in e&&n(14,c=e.doc),"file"in e&&n(0,r=e.file),"reload"in e&&n(15,a=e.reload)},[r,l,s,o,m,u,f,d,p,function(){n(2,s={x:10,y:10,width:r.width*h-20,height:r.height*h-20}),n(3,o={x:Math.ceil(r.width*h/2),y:Math.ceil(r.height*h/2)})},function(e){if(0===e.buttons&&n(4,m=!1),!m)return;let t=e.clientX-p.getBoundingClientRect().x,l=e.clientY-p.getBoundingClientRect().y;switch(m){case"bottomright":n(2,s.width=Math.floor(Math.max(10,t-s.x)),s),n(2,s.height=Math.floor(Math.max(10,l-s.y)),s);break;case"topleft":n(2,s.x=Math.floor(Math.min(r.width*h-10,Math.max(0,t))),s),n(2,s.y=Math.floor(Math.min(r.height*h-10,Math.max(0,l))),s);break;case"focus":n(3,o.x=Math.floor(Math.min(r.width*h,Math.max(0,t))),o),n(3,o.y=Math.floor(Math.min(r.height*h,Math.max(0,l))),o)}n(3,o.x=Math.max(Math.min(o.x,s.x+s.width),s.x),o),n(3,o.y=Math.max(Math.min(o.y,s.y+s.height),s.y),o),s.x+s.width>r.width*h&&n(2,s.width=r.width*h-s.x,s),s.y+s.height>r.height*h&&n(2,s.height=r.height*h-s.y,s)},function(){let e={safezone:Math.floor(s.x/h).toString(36).padStart(3,"0")+Math.floor(s.y/h).toString(36).padStart(3,"0")+Math.floor(s.width/h).toString(36).padStart(3,"0")+Math.floor(s.height/h).toString(36).padStart(3,"0"),focus:Math.floor(o.x/h).toString(36).padStart(3,"0")+Math.floor(o.y/h).toString(36).padStart(3,"0")};n(0,r.safezone=e.safezone,r),n(0,r.focus=e.focus,r),c.class.fetcher.attachment.modify(c.id,r.name,e).then(i).then(a)},function(){h=p.getBoundingClientRect().width/r.width,n(3,o.x*=h,o),n(3,o.y*=h,o),n(2,s.x*=h,s),n(2,s.y*=h,s),n(2,s.width*=h,s),n(2,s.height*=h,s)},i,c,a,()=>n(4,m="topleft"),()=>n(4,m=!1),function(e){B[e?"unshift":"push"]((()=>{f=e,n(6,f)}))},()=>n(4,m="bottomright"),()=>n(4,m=!1),function(e){B[e?"unshift":"push"]((()=>{d=e,n(7,d)}))},()=>n(4,m="focus"),()=>n(4,m=!1),function(e){B[e?"unshift":"push"]((()=>{u=e,n(5,u)}))},function(e){B[e?"unshift":"push"]((()=>{p=e,n(8,p)}))},function(e){B[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}Es.cbytes=_s,Es.toString=Cs,Es.toNumber=Ss,Es.objectToFormat=Ts,Es.formatToObject=Os,Es.sizeToObject=zs;class Ps extends ae{constructor(e){super(),re(this,e,Fs,Ns,i,{close:13,doc:14,file:0,reload:15})}}var Bs,Is={image:"fa-file-image",pdf:"fa-file-pdf",word:"fa-file-word",powerpoint:"fa-file-powerpoint",excel:"fa-file-excel",csv:"fa-file-csv",audio:"fa-file-audio",video:"fa-file-video",archive:"fa-file-archive",code:"fa-file-code",text:"fa-file-alt",file:"fa-file"},As=Object.defineProperty({default:Is},"__esModule",{value:!0}),Ds=(Bs=As)&&Bs.__esModule?Bs:{default:Bs};var qs={gif:Ds.default.image,jpeg:Ds.default.image,jpg:Ds.default.image,png:Ds.default.image,pdf:Ds.default.pdf,doc:Ds.default.word,docx:Ds.default.word,ppt:Ds.default.powerpoint,pptx:Ds.default.powerpoint,xls:Ds.default.excel,xlsx:Ds.default.excel,csv:Ds.default.csv,aac:Ds.default.audio,mp3:Ds.default.audio,ogg:Ds.default.audio,avi:Ds.default.video,flv:Ds.default.video,mkv:Ds.default.video,mp4:Ds.default.video,gz:Ds.default.archive,zip:Ds.default.archive,css:Ds.default.code,html:Ds.default.code,js:Ds.default.code,txt:Ds.default.text},Hs=Object.defineProperty({default:qs},"__esModule",{value:!0}),Ys=function(e){return e&&e.__esModule?e:{default:e}}(As);var Js={"image/gif":Ys.default.image,"image/jpeg":Ys.default.image,"image/png":Ys.default.image,"application/pdf":Ys.default.pdf,"application/msword":Ys.default.word,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":Ys.default.word,"application/mspowerpoint":Ys.default.powerpoint,"application/vnd.openxmlformats-officedocument.presentationml.presentation":Ys.default.powerpoint,"application/msexcel":Ys.default.excel,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":Ys.default.excel,"text/csv":Ys.default.csv,"audio/aac":Ys.default.audio,"audio/wav":Ys.default.audio,"audio/mpeg":Ys.default.audio,"audio/mp4":Ys.default.audio,"audio/ogg":Ys.default.audio,"video/x-msvideo":Ys.default.video,"video/mpeg":Ys.default.video,"video/mp4":Ys.default.video,"video/ogg":Ys.default.video,"video/quicktime":Ys.default.video,"video/webm":Ys.default.video,"application/gzip":Ys.default.archive,"application/zip":Ys.default.archive,"text/css":Ys.default.code,"text/html":Ys.default.code,"text/javascript":Ys.default.code,"application/javascript":Ys.default.code,"text/plain":Ys.default.text,"text/richtext":Ys.default.text,"text/rtf":Ys.default.text},Vs=Object.defineProperty({default:Js},"__esModule",{value:!0}),Xs=function(e){return Rs.default[e.toLowerCase()]||Ws.default.file},Rs=Us(Hs);Us(Vs);var Ws=Us(As);function Us(e){return e&&e.__esModule?e:{default:e}}function Ks(e,t,n){const l=e.slice();return l[24]=t[n][0],l[25]=t[n][1],l[26]=t,l[27]=n,l}function Zs(e){let t,n,l,s,o,i=e[2].width+"",c=e[2].height+"";return{c(){t=b("div"),n=$("dimensions: "),l=$(i),s=$(" x "),o=$(c),M(t,"class","Qhud3le")},m(e,i){m(e,t,i),h(t,n),h(t,l),h(t,s),h(t,o)},p(e,t){4&t&&i!==(i=e[2].width+"")&&E(l,i),4&t&&c!==(c=e[2].height+"")&&E(o,c)},d(e){e&&g(t)}}}function Gs(e){let t,n,l,o,i,c,r,a,u;function f(){e[20].call(n,e[26],e[27])}function d(){e[21].call(o,e[26],e[27])}function p(){return e[22](e[27])}return{c(){t=b("div"),n=b("input"),l=y(),o=b("input"),i=y(),c=b("i"),r=y(),M(n,"class","key Qhud3le"),M(n,"placeholder","key"),M(o,"class","value Qhud3le"),M(o,"placeholder","value"),M(c,"class","fas fa-minus-circle Qhud3le"),M(t,"class","property Qhud3le")},m(s,g){m(s,t,g),h(t,n),_(n,e[24]),h(t,l),h(t,o),_(o,e[25]),h(t,i),h(t,c),h(t,r),a||(u=[x(n,"input",f),x(o,"input",d),x(c,"click",p)],a=!0)},p(t,l){e=t,256&l&&n.value!==e[24]&&_(n,e[24]),256&l&&o.value!==e[25]&&_(o,e[25])},d(e){e&&g(t),a=!1,s(u)}}}function eo(e){let t,n,l,o,i,c,r,a,u,f,d,p,w,k,Q,C,S,T,O,z,j,L,N,F,P,B=e[2].url+"",I=Es(e[2].size,{separator:"",decimals:1})+"",A=e[2].size.toLocaleString()+"",D=e[2].isImage&&Zs(e),q=e[8],H=[];for(let t=0;t<q.length;t+=1)H[t]=Gs(Ks(e,q,t));return{c(){t=b("main"),n=b("div"),l=b("input"),o=y(),i=b("div"),c=b("input"),r=y(),a=b("div"),u=$("url: "),f=$(B),d=y(),p=b("div"),w=$("file size: "),k=$(I),Q=$(" ("),C=$(A),S=$(")"),T=y(),D&&D.c(),O=y(),z=b("div"),j=$("properties:"),L=b("i"),N=y();for(let e=0;e<H.length;e+=1)H[e].c();M(l,"placeholder","filename"),M(l,"type","text"),M(l,"class","Qhud3le"),M(n,"class","Qhud3le"),M(c,"placeholder","title"),M(c,"type","text"),M(c,"class","Qhud3le"),M(i,"class","Qhud3le"),M(a,"class","url Qhud3le"),M(p,"class","Qhud3le"),M(L,"class","fas fa-plus-circle Qhud3le"),M(z,"class","properties Qhud3le"),M(t,"class","Qhud3le")},m(s,g){m(s,t,g),h(t,n),h(n,l),_(l,e[5]),h(t,o),h(t,i),h(i,c),_(c,e[6]),h(t,r),h(t,a),h(a,u),h(a,f),h(t,d),h(t,p),h(p,w),h(p,k),h(p,Q),h(p,C),h(p,S),h(t,T),D&&D.m(t,null),h(t,O),h(t,z),h(z,j),h(z,L),h(t,N);for(let e=0;e<H.length;e+=1)H[e].m(t,null);F||(P=[x(l,"input",e[16]),x(c,"input",e[17]),x(a,"click",e[18]),x(L,"click",e[19])],F=!0)},p(e,n){if(32&n&&l.value!==e[5]&&_(l,e[5]),64&n&&c.value!==e[6]&&_(c,e[6]),4&n&&B!==(B=e[2].url+"")&&E(f,B),4&n&&I!==(I=Es(e[2].size,{separator:"",decimals:1})+"")&&E(k,I),4&n&&A!==(A=e[2].size.toLocaleString()+"")&&E(C,A),e[2].isImage?D?D.p(e,n):(D=Zs(e),D.c(),D.m(t,O)):D&&(D.d(1),D=null),1280&n){let l;for(q=e[8],l=0;l<q.length;l+=1){const s=Ks(e,q,l);H[l]?H[l].p(s,n):(H[l]=Gs(s),H[l].c(),H[l].m(t,null))}for(;l<H.length;l+=1)H[l].d(1);H.length=q.length}},d(e){e&&g(t),D&&D.d(),v(H,e),F=!1,s(P)}}}function to(t){let n,l,s;return{c(){n=b("button"),n.innerHTML='<i class="fad fa-image"></i>'},m(e,o){m(e,n,o),l||(s=x(n,"click",t[15]),l=!0)},p:e,d(e){e&&g(n),l=!1,s()}}}function no(e){let t,n,l,i,c,r,a,u=e[2].isImage&&to(e);return{c(){t=b("nav"),u&&u.c(),n=y(),l=b("button"),l.innerHTML='<i class="fad fa-trash-alt"></i>',i=y(),c=b("button"),c.innerHTML='<i class="fas fa-times"></i>',M(t,"slot","nav")},m(s,f){m(s,t,f),u&&u.m(t,null),h(t,n),h(t,l),h(t,i),h(t,c),r||(a=[x(l,"click",e[13]),x(c,"click",(function(){o(e[0])&&e[0].apply(this,arguments)}))],r=!0)},p(l,s){(e=l)[2].isImage?u?u.p(e,s):(u=to(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null)},d(e){e&&g(t),u&&u.d(),r=!1,s(a)}}}function lo(t){let n,l,s,o;return{c(){n=b("footer"),l=b("button"),l.textContent="Save changes",M(l,"class","primary"),M(n,"slot","footer")},m(e,i){m(e,n,i),h(n,l),s||(o=x(l,"click",t[12]),s=!0)},p:e,d(e){e&&g(n),s=!1,o()}}}function so(e){let t,n,l={icon:e[7],title:"File details",$$slots:{footer:[lo],nav:[no],default:[eo]},$$scope:{ctx:e}};return t=new ps({props:l}),e[23](t),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,[n]){const l={};128&n&&(l.icon=e[7]),268435823&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(n){e[23](null),ce(t,n)}}}function oo(e,t,n){let l,s,o,i,r,{collection:a=null}=t,{close:u}=t,{doc:f}=t,{file:p={}}=t,{reload:h=null}=t,m=we([]);function g(e){m.update((t=>(t.splice(e,1),t)))}function v(){m.update((e=>[...e,["",""]]))}c(e,m,(e=>n(8,s=e))),F((()=>{d(m,s="object"!=typeof p.properties||p.properties instanceof Array?[]:[...Object.entries(p.properties)],s),n(5,i=p.name),n(6,r=p.title)}));return e.$$set=e=>{"collection"in e&&n(14,a=e.collection),"close"in e&&n(0,u=e.close),"doc"in e&&n(1,f=e.doc),"file"in e&&n(2,p=e.file),"reload"in e&&n(3,h=e.reload)},e.$$.update=()=>{4&e.$$.dirty&&n(7,l="inverse fad "+Xs(p.name.split(".").pop()))},[u,f,p,h,o,i,r,l,s,m,g,v,function(){m.update((e=>e.map((e=>[e[0].trim(),e[1].trim()])))),m.update((e=>[...Object.entries(Object.fromEntries(e))]));let e={newname:i,title:r,properties:Object.fromEntries(s)};f.class.fetcher.attachment.modify(f.id,p.name,e).then(u).then(h)},function(){confirm("Remove file: "+p.name+"\nAre you sure?")&&f.class.fetcher.attachment.remove(a,f.id,p.name).then(u).then(h)},a,()=>{Bt.show(Ps,{file:p,doc:f,reload:h})},function(){i=this.value,n(5,i)},function(){r=this.value,n(6,r)},()=>{navigator.clipboard.writeText(p.url),ke.info("URL copied to clipboard")},()=>v(),function(e,t){e[t][0]=this.value,m.set(s)},function(e,t){e[t][1]=this.value,m.set(s)},e=>g(e),function(e){B[e?"unshift":"push"]((()=>{o=e,n(4,o)}))}]}class io extends ae{constructor(e){super(),re(this,e,oo,so,i,{collection:14,close:0,doc:1,file:2,reload:3})}}function co(e){let t,n;return{c(){t=b("i"),M(t,"class",n=f(e[3])+" Q1fxwff1")},m(e,n){m(e,t,n)},p(e,l){8&l&&n!==(n=f(e[3])+" Q1fxwff1")&&M(t,"class",n)},d(e){e&&g(t)}}}function ro(e){let t,n,l,s,o,i,c,r=e[0].width+"",a=e[0].height+"";return{c(){t=b("img"),l=y(),s=b("div"),o=$(r),i=$("x"),c=$(a),t.src!==(n=e[0].thumbnail)&&M(t,"src",n),M(t,"width","100"),M(t,"height","100"),M(t,"draggable","false"),M(s,"class","dimensions Q1fxwff1")},m(e,n){m(e,t,n),m(e,l,n),m(e,s,n),h(s,o),h(s,i),h(s,c)},p(e,l){1&l&&t.src!==(n=e[0].thumbnail)&&M(t,"src",n),1&l&&r!==(r=e[0].width+"")&&E(o,r),1&l&&a!==(a=e[0].height+"")&&E(c,a)},d(e){e&&g(t),e&&g(l),e&&g(s)}}}function ao(t){let n,l,o,i,c,r,a,u,f,d,p=t[0].name+"",v=Es(t[0].size,{separator:"",decimals:0})+"";function w(e,t){return e[0].isImage?ro:co}let k=w(t),Q=k(t);return{c(){n=b("section"),l=b("div"),Q.c(),o=y(),i=b("span"),c=$(p),r=y(),a=b("span"),u=$(v),M(l,"class","preview Q1fxwff1"),M(i,"class","name Q1fxwff1"),M(a,"class","data Q1fxwff1"),M(n,"class","file Q1fxwff1"),M(n,"draggable","true"),O(n,"right",t[2]),O(n,"left",t[1])},m(e,s){m(e,n,s),h(n,l),Q.m(l,null),h(n,o),h(n,i),h(i,c),h(n,r),h(n,a),h(a,u),f||(d=[x(n,"click",t[4]),x(n,"dragleave",t[6]),x(n,"drop",t[8]),x(n,"dragstart",t[7]),x(n,"dragover",t[5])],f=!0)},p(e,[t]){k===(k=w(e))&&Q?Q.p(e,t):(Q.d(1),Q=k(e),Q&&(Q.c(),Q.m(l,null))),1&t&&p!==(p=e[0].name+"")&&E(c,p),1&t&&v!==(v=Es(e[0].size,{separator:"",decimals:0})+"")&&E(u,v),4&t&&O(n,"right",e[2]),2&t&&O(n,"left",e[1])},i:e,o:e,d(e){e&&g(n),Q.d(),f=!1,s(d)}}}function uo(e,t,n){let l,{file:s={}}=t,{doc:o=null}=t,{index:i=null}=t,{reload:c=null}=t,{collection:r=null}=t,a=!1,u=!1;return e.$$set=e=>{"file"in e&&n(0,s=e.file),"doc"in e&&n(9,o=e.doc),"index"in e&&n(10,i=e.index),"reload"in e&&n(11,c=e.reload),"collection"in e&&n(12,r=e.collection)},e.$$.update=()=>{1&e.$$.dirty&&n(3,l="fad "+Xs(s.name.split(".").pop()))},[s,a,u,l,function(){Bt.show(io,{file:s,doc:o,reload:c,collection:r})},function(e){"attachment"===e.dataTransfer.types[0]&&r===e.dataTransfer.types[1]&&(e.target.clientWidth/2<e.offsetX?(n(2,u=!0),n(1,a=!1)):(n(1,a=!0),n(2,u=!1)),e.stopPropagation(),e.preventDefault())},function(e){n(1,a=!1),n(2,u=!1)},function(e){e.dataTransfer.setData("attachment","1"),e.dataTransfer.setData(r,"1"),e.dataTransfer.setData("file",s.name),e.dataTransfer.setData("collection",r)},function(e){"attachment"===e.dataTransfer.types[0]&&r===e.dataTransfer.types[1]&&(o.class.fetcher.attachment.order(o.id,r,e.dataTransfer.getData("file"),i+(u?1:0)).then(c),n(1,a=!1),n(2,u=!1))},o,i,c,r]}class fo extends ae{constructor(e){super(),re(this,e,uo,ao,i,{file:0,doc:9,index:10,reload:11,collection:12})}}function po(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function ho(e){let t,n;return t=new fo({props:{file:e[15],doc:e[2],collection:e[0],reload:e[3],index:e[17]}}),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){const l={};64&n&&(l.file=e[15]),4&n&&(l.doc=e[2]),1&n&&(l.collection=e[0]),8&n&&(l.reload=e[3]),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function mo(e){let t,n,l,o,i,c,r,a,u,f,d,p,w,Q,_,S,T=e[6],z=[];for(let t=0;t<T.length;t+=1)z[t]=ho(po(e,T,t));const j=e=>ee(z[e],1,1,(()=>{z[e]=null}));return{c(){t=b("section"),n=b("input"),l=y(),o=b("div"),i=b("b"),c=$(e[1]),r=b("span"),a=$("("),u=$(e[0]),f=$(")"),d=b("i"),p=y(),w=b("div");for(let e=0;e<z.length;e+=1)z[e].c();n.multiple=!0,M(n,"type","file"),C(n,"display","none"),M(r,"class","Q1x3zdau"),M(d,"class","fas fa-folder-upload Q1x3zdau"),M(o,"class","block-label Q1x3zdau"),M(w,"class","files Q1x3zdau"),M(t,"class","block Q1x3zdau"),O(t,"over",e[5])},m(s,g){m(s,t,g),h(t,n),e[12](n),h(t,l),h(t,o),h(o,i),h(i,c),h(o,r),h(r,a),h(r,u),h(r,f),h(o,d),h(t,p),h(t,w);for(let e=0;e<z.length;e+=1)z[e].m(w,null);Q=!0,_||(S=[x(n,"change",e[8]),x(d,"click",e[13]),x(t,"dragover",e[9]),x(t,"drop",e[10]),x(t,"dragleave",e[14]),x(t,"dragover",k(go))],_=!0)},p(e,[n]){if((!Q||2&n)&&E(c,e[1]),(!Q||1&n)&&E(u,e[0]),77&n){let t;for(T=e[6],t=0;t<T.length;t+=1){const l=po(e,T,t);z[t]?(z[t].p(l,n),G(z[t],1)):(z[t]=ho(l),z[t].c(),G(z[t],1),z[t].m(w,null))}for(K(),t=T.length;t<z.length;t+=1)j(t);Z()}32&n&&O(t,"over",e[5])},i(e){if(!Q){for(let e=0;e<T.length;e+=1)G(z[e]);Q=!0}},o(e){z=z.filter(Boolean);for(let e=0;e<z.length;e+=1)ee(z[e]);Q=!1},d(n){n&&g(t),e[12](null),v(z,n),_=!1,s(S)}}}const go=()=>{};function vo(e,t,n){let l,s,{name:o=""}=t,{label:i=""}=t,{doc:r=null}=t,{reload:a=null}=t,u=we([]);c(e,u,(e=>n(6,l=e)));let{get:f=(()=>{r.class.fetcher.attachment.get(r.id,o).then((e=>d(u,l=null!=e?e:[],l)))})}=t;f();let p=!1;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"label"in e&&n(1,i=e.label),"doc"in e&&n(2,r=e.doc),"reload"in e&&n(3,a=e.reload),"get"in e&&n(11,f=e.get)},[o,i,r,a,s,p,l,u,function(){let e=[];[...s.files].forEach((t=>{e.push(r.class.fetcher.attachment.upload(o,t,r.id))})),Promise.all(e).then((e=>f())).then((()=>n(4,s.value="",s)))},function(e){"attachment"===e.dataTransfer.types[0]&&e.dataTransfer.types[1]!==o&&n(5,p=!0)},function(e){p&&r.class.fetcher.attachment.add(r.id,o,e.dataTransfer.getData("file"),e.shiftKey?null:e.dataTransfer.getData("collection")).then(a),n(5,p=!1)},f,function(e){B[e?"unshift":"push"]((()=>{s=e,n(4,s)}))},()=>{s.click()},()=>n(5,p=!1)]}class bo extends ae{constructor(e){super(),re(this,e,vo,mo,i,{name:0,label:1,doc:2,reload:3,get:11})}get name(){return this.$$.ctx[0]}set name(e){this.$set({name:e}),X()}get label(){return this.$$.ctx[1]}set label(e){this.$set({label:e}),X()}get doc(){return this.$$.ctx[2]}set doc(e){this.$set({doc:e}),X()}get reload(){return this.$$.ctx[3]}set reload(e){this.$set({reload:e}),X()}get get(){return this.$$.ctx[11]}set get(e){this.$set({get:e}),X()}}function $o(e,t,n){const l=e.slice();return l[10]=t[n],l[11]=t,l[12]=n,l}function yo(e){let t,n,l=e[12];const s=()=>e[8](t,l),o=()=>e[8](null,l);let i={name:e[10].name,label:e[10].label,doc:e[1],reload:e[5]};return t=new bo({props:i}),s(),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,n){l!==e[12]&&(o(),l=e[12],s());const i={};4&n&&(i.name=e[10].name),4&n&&(i.label=e[10].label),2&n&&(i.doc=e[1]),t.$set(i)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){o(),ce(t,e)}}}function wo(e){let t,n,l=e[2],s=[];for(let t=0;t<l.length;t+=1)s[t]=yo($o(e,l,t));const o=e=>ee(s[e],1,1,(()=>{s[e]=null}));return{c(){t=b("main");for(let e=0;e<s.length;e+=1)s[e].c();M(t,"class","Q1y0tsmp")},m(e,l){m(e,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(54&n){let i;for(l=e[2],i=0;i<l.length;i+=1){const o=$o(e,l,i);s[i]?(s[i].p(o,n),G(s[i],1)):(s[i]=yo(o),s[i].c(),G(s[i],1),s[i].m(t,null))}for(K(),i=l.length;i<s.length;i+=1)o(i);Z()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ee(s[e]);n=!1},d(e){e&&g(t),v(s,e)}}}function xo(e){let t,n,l,s;return{c(){t=b("nav"),n=b("button"),n.innerHTML='<i class="fas fa-times"></i>',M(t,"slot","nav")},m(i,c){m(i,t,c),h(t,n),l||(s=x(n,"click",(function(){o(e[0])&&e[0].apply(this,arguments)})),l=!0)},p(t,n){e=t},d(e){e&&g(t),l=!1,s()}}}function ko(e){let t,n;return t=new ps({props:{icon:"inverse fad fa-folder-open",title:"Attachments",big:!0,$$slots:{nav:[xo],default:[wo]},$$scope:{ctx:e}}}),e[9](t),{c(){oe(t.$$.fragment)},m(e,l){ie(t,e,l),n=!0},p(e,[n]){const l={};8215&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(n){e[9](null),ce(t,n)}}}function Qo(e,t,n){let l,{value:s=""}=t,{name:o=""}=t,{close:i=(()=>console.log("close"))}=t,{doc:c}=t,{categories:r=null}=t;let a=[];return e.$$set=e=>{"value"in e&&n(6,s=e.value),"name"in e&&n(7,o=e.name),"close"in e&&n(0,i=e.close),"doc"in e&&n(1,c=e.doc),"categories"in e&&n(2,r=e.categories)},[i,c,r,l,a,function(){a.forEach((e=>e.get()))},s,o,function(e,t){B[e?"unshift":"push"]((()=>{a[t]=e,n(4,a)}))},function(e){B[e?"unshift":"push"]((()=>{l=e,n(3,l)}))}]}class Mo extends ae{constructor(e){super(),re(this,e,Qo,ko,i,{value:6,name:7,close:0,doc:1,categories:2})}}let Eo=Ke.create("My article list","fad fa-book",[Ue.Action("fas fa-recycle",null,(e=>e.reload())),Ue.Action("fas fa-plus",null,(e=>_o.open(null)))],100,[Ue.Sorting("publikálva",!0).asc("publishDate"),Ue.Sorting("complex",!0,!1,"my-key")],new class{constructor(e){this.api=e}list(e,t,n,l,s){return fetch(this.api+"/list/"+e,{method:"POST",body:JSON.stringify({sort:t.fields,quickSearch:n,search:l,limit:s})}).then((e=>kn(e))).then((e=>new Qn(e.page,e.count,e.items)))}}("/magic/article"),xn.Component,(e=>xn.Cardify(e.id,(()=>_o.open(e.id)),e.title,null!==e.publishDate,"https://picsum.photos/380/120?"+Math.random(),"https://picsum.photos/50/50?"+Math.random(),[xn.Icon("fas","fa-crown","yellow"),xn.Icon("fas","fa-users","orangered","useresfaszaság")],[xn.Property("megjelenés",e.publishDate),xn.Property("guid",e.guid),xn.Property("guid",e.guid)],[xn.Action("fas fa-plus","büff",(e=>e.reload())),xn.Action("fas fa-minus","baff",(t=>console.log(e.title)))]))),_o=ss.create("article",Eo,"fad fa-crown",new ss.Fetcher("/magic/article"),[new os("fad fa-folder-open","attachments",(e=>Bt.show(Mo,{doc:e,categories:[{name:"image",label:"kép"},{name:"avatar",label:"avatár"},{name:"file",label:"letöltés"}]})),(e=>e.exists)),new os("fad fa-save","save",(e=>e.save())),new os("fas fa-times","delete",(e=>e.delete()),(e=>e.exists))],(e=>{var t;return null!==(t=e.title)&&void 0!==t?t:"új cikk"}));_o.addSection("relatedIds",!1).add(ss.inputs.related("relatedIds").api("/api/article-selector").form(_o)),_o.addSection("Adatok",!1).add(ss.inputs.string("title","cím"),ss.inputs.string("authorId"),ss.inputs.selector("authorId").api("/api/article-selector"),ss.inputs.selector("relatedIds").api("/api/article-selector").multi.form(_o),ss.inputs.string("iconColor"),ss.inputs.checkbox("status"),ss.inputs.datetime("publishDate"),ss.inputs.string("publishDate"),ss.inputs.time("test"),ss.inputs.float("comment_count"),ss.inputs.color("iconColor"),ss.inputs.editor("body").editor(class extends ae{constructor(e){super(),re(this,e,bs,vs,i,{value:0,name:1,close:2,save:3})}}).buttonText("Szerk"),ss.inputs.checkboxes("label").options([{label:"Blogpost",value:"Blog"},"Ad",{News:"Hír"}]).options({Blog:"Bloggpost",News:"Hírbaszod"}),ss.inputs.select("comment_status").options(["open","closed","hidden"]),ss.inputs.integer("authorId"),ss.inputs.string("relatedIds")),_o.addSection("Content",!0).add(ss.inputs.text("body").code.wide,ss.inputs.text("body").code);let Co=[Pe.List("Books","fad fa-users",Eo).activate(),Pe.Page("Books","fad fa-users",_o,54437).activate(),Pe.Menu("Második menüpont","fad fa-crow",[Pe.Custom("Első al menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Második al menüpont","fad fa-crow",(()=>console.log("selected")))]),Pe.Custom("Első mefnüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Első menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Menu("Második menüpont","fad fa-crow",[Pe.Custom("Első aa menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Második al menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Első al menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Első al menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Második al menüpont","fad fa-crow",(()=>console.log("selected")))]),Pe.Menu("Második menüpont","fad fa-crow",[Pe.Custom("Első al menüpont","fad fa-crow",(()=>console.log("selected"))),Pe.Custom("Második al menüpont","fad fa-crow",(()=>console.log("selected")))])];var So=he((function(e,t){!function(e){function t(e,t,n,l){if(t){if("string"==typeof e&&(e=document.querySelector(e)),document.createEvent){var s=document.createEvent("Events");s.initEvent(t,!0,!1),s.data=n,s.originalEvent=l,e.dispatchEvent(s)}}else console.error("No event was provided. You do need to provide one.")}window.navigator.pointerEnabled?(e.eventstart="pointerdown",e.eventend="pointerup",e.eventmove="pointermove",e.eventcancel="pointercancel"):window.navigator.msPointerEnabled?(e.eventstart="MSPointerDown",e.eventend="MSPointerUp",e.eventmove="MSPointerMove",e.eventcancel="MSPointerCancel"):"ontouchstart"in window?(e.eventstart="touchstart",e.eventend="touchend",e.eventmove="touchmove",e.eventcancel="touchcancel"):(e.eventstart="mousedown",e.eventend="mouseup",e.eventmove="mousemove",e.eventcancel="mouseout"),e.trigger=t,e.gestures=function(){var n=Math.abs;function l(e){return"tagName"in e?e:e.parentNode}function s(e,t,l,s){return n(e-t)>=n(l-s)?0<e-t?"left":"right":0<l-s?"up":"down"}function o(e){if(f=null,m.last)try{m&&m.el&&(t(m.el,"longtap",null,e),m={})}catch(e){}}function i(){f&&clearTimeout(f),f=null}function c(){r&&clearTimeout(r),u&&clearTimeout(u),a&&clearTimeout(a),f&&clearTimeout(f),r=u=a=f=null,m={}}var r,a,u,f,d,p,h,m={},g=150,v=20;/android/gim.test(navigator.userAgent)&&(g=200),(h=document.body).addEventListener(e.eventstart,(function(t){if(d=Date.now(),p=d-(m.last||d),"mousedown"===e.eventstart)m.el=l(t.target),"ripple"===t.target.nodeName&&(m.el=t.target.parentNode),r&&clearTimeout(r),m.x1=t.pageX,m.y1=t.pageY;else if(1===t.touches.length){if(t.target.disabled)return;m.el=l(t.touches[0].target),r&&clearTimeout(r),m.x1=t.touches[0].pageX,m.y1=t.touches[0].pageY}0<p&&450>=p&&(m.isDoubleTap=!0),m.last=d,f=setTimeout(o,750,t)})),h.addEventListener(e.eventmove,(function(t){i(),"mousemove"===e.eventmove?(m.x2=t.pageX,m.y2=t.pageY):1===t.touches.length?(m.x2=t.touches[0].pageX,m.y2=t.touches[0].pageY,m.move=!0):t.touches.length})),h.addEventListener(e.eventend,(function(e){i(),!m.el||(m.x2&&n(m.x1-m.x2)>v||m.y2&&n(m.y1-m.y2)>v?a=setTimeout((function(){if(m&&m.el){var n=s(m.x1,m.x2,m.y1,m.y2);t(m.el,"swipe",n,e),t(m.el,"swipe"+n,null,e),m={}}}),0):"last"in m&&(u=setTimeout((function(){m&&m.isDoubleTap?m&&m.el&&(t(m.el,"dbltap",null,e),e.preventDefault(),m={}):r=setTimeout((function(){r=null,m&&m.el&&!m.move?(t(m.el,"tap",null,e),m={}):c()}),g)}),0)))})),h.addEventListener("touchcancel",c)},e.disableTextSelection=function(e,t){if(e){t&&"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)).map((function(e){e.classList.add("disable-user-select")})):"string"==typeof e&&(e=document.querySelector(e)).classList.add("disable-user-select");var n=document.head.querySelector(".disable-user-select");n||((n=document.createElement("style")).className="disable-user-select",n.innerHTML=".disable-user-select, .disable-user-select * { user-select: none; -webkit-user-select: none; -ms-user-select: none; }",document.head.appendChild(n))}},e.enableTextSelection=function(e,t){if(t&&"string"==typeof e)Array.prototype.slice.call(document.querySelectorAll(e)).map((function(e){e.classList.remove("disable-user-select")}));else{if("string"==typeof e&&(e=document.querySelector(e)),!e)return;e.classList.remove("disable-user-select")}},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));window.addEventListener("load",(()=>{So.gestures(),Me.update((e=>Object.assign(Object.assign({},e),{menu:Co,lists:[Eo]}))),new ln({target:document.body})}))}();
//# sourceMappingURL=index.js.map
